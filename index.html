<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bitcoin 2026: Anatomy of a 52% Decline | Premium Analysis</title>
<meta name="description" content="Data-driven analysis of Bitcoin's 52% drawdown from $126,198 to $60,062. Interactive charts, on-chain metrics, insider quotes, and risk assessment.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.1.0/dist/chartjs-plugin-annotation.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script defer src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
<style>
/* ============================================================
   BITCOIN 2026 ANALYSIS — ULTRA-BLACK THEME
   Production-quality stylesheet
   ============================================================ */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* Typography */
  --font-display: 'Plus Jakarta Sans', 'Inter', system-ui, -apple-system, sans-serif;
  --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;

  /* Ultra-black palette */
  --bg-primary: #050508;
  --bg-secondary: #0a0a10;
  --bg-card: #0c0c14;
  --bg-card-hover: #12121c;
  --bg-elevated: #16162a;
  --border-primary: #1a1a28;
  --border-secondary: #242438;
  --border-accent: #2e2e48;
  --text-primary: #e8e8f0;
  --text-secondary: #7a7a96;
  --text-muted: #4a4a64;

  /* Accent colors */
  --accent-primary: #f7931a;
  --accent-primary-hover: #ffa940;
  --accent-primary-dim: rgba(247, 147, 26, 0.12);
  --accent-primary-glow: rgba(247, 147, 26, 0.25);
  --accent-secondary: #3b82f6;
  --accent-secondary-dim: rgba(59, 130, 246, 0.12);

  /* Semantic colors */
  --bearish: #ef4444;
  --bearish-dim: rgba(239, 68, 68, 0.12);
  --bearish-glow: rgba(239, 68, 68, 0.25);
  --bullish: #10b981;
  --bullish-dim: rgba(16, 185, 129, 0.12);
  --bullish-glow: rgba(16, 185, 129, 0.25);
  --warning: #f59e0b;
  --warning-dim: rgba(245, 158, 11, 0.12);
  --purple: #8b5cf6;
  --purple-dim: rgba(139, 92, 246, 0.12);
  --purple-glow: rgba(139, 92, 246, 0.20);

  /* Motion */
  --transition-base: 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --transition-smooth: 0.4s cubic-bezier(0.16, 1, 0.3, 1);

  /* 8px grid spacing scale */
  --space-1: 8px;
  --space-2: 16px;
  --space-3: 24px;
  --space-4: 32px;
  --space-5: 40px;
  --space-6: 48px;
  --space-8: 64px;
  --space-10: 80px;
  --space-15: 120px;
}

/* ---- Base ---- */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 110px;
  font-size: 16px;
}

body {
  font-family: var(--font-body);
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

::selection {
  background: var(--accent-primary-dim);
  color: var(--text-primary);
}

:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: #1a1a28; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #2e2e48; }

/* ===========================================================
   NAVIGATION
   =========================================================== */
.nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  height: 64px;
  background: rgba(5, 5, 8, 0.82);
  backdrop-filter: blur(24px) saturate(1.3);
  -webkit-backdrop-filter: blur(24px) saturate(1.3);
  border-bottom: 1px solid var(--border-primary);
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.nav.scrolled {
  background: rgba(5, 5, 8, 0.94);
  box-shadow: 0 4px 32px rgba(0, 0, 0, 0.5), 0 1px 0 rgba(255, 255, 255, 0.02);
}

.nav-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 100%;
}

.nav-brand {
  font-family: var(--font-display);
  font-weight: 800;
  font-size: 1.125rem;
  letter-spacing: -0.02em;
  color: var(--accent-primary);
  white-space: nowrap;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

/* Bitcoin circle logo in nav */
.nav-brand svg,
.nav-brand img {
  width: 22px;
  height: 22px;
  flex-shrink: 0;
}

.nav-brand span {
  color: var(--text-muted);
  font-weight: 400;
  font-family: var(--font-body);
  margin-left: 8px;
  font-size: 0.8125rem;
}

/* Nav links — flat and grouped */
.nav-links {
  display: flex;
  gap: 1px;
  align-items: center;
}

.nav-links > a {
  font-family: var(--font-body);
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 0.8125rem;
  font-weight: 500;
  padding: 6px 12px;
  border-radius: var(--space-1);
  transition: color 0.2s ease, background-color 0.2s ease;
  white-space: nowrap;
}

.nav-links > a:hover {
  color: var(--text-primary);
  background: var(--bg-card);
}

.nav-links > a.active {
  color: var(--accent-primary);
  background: var(--accent-primary-dim);
}

/* Nav dropdown groups */
.nav-group {
  position: relative;
}

.nav-group-label {
  font-family: var(--font-body);
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 0.8125rem;
  font-weight: 500;
  padding: 6px 12px;
  border-radius: var(--space-1);
  transition: color 0.2s ease, background-color 0.2s ease;
  white-space: nowrap;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  position: relative;
}

/* Orange underline indicator for active group */
.nav-group-label::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  width: 16px;
  height: 2px;
  background: var(--accent-primary);
  border-radius: 1px;
  transition: transform 0.2s ease;
}

.nav-group-label:hover,
.nav-group:hover .nav-group-label {
  color: var(--text-primary);
  background: var(--bg-card);
}

.nav-group:hover .nav-group-label::after {
  transform: translateX(-50%) scaleX(1);
}

.nav-group-label.active {
  color: var(--accent-primary);
}

.nav-group-label.active::after {
  transform: translateX(-50%) scaleX(1);
}

.nav-dropdown {
  position: absolute;
  top: calc(100% + 6px);
  left: 50%;
  min-width: 180px;
  padding: var(--space-1);
  background: rgba(10, 10, 18, 0.88);
  backdrop-filter: blur(24px) saturate(1.4);
  -webkit-backdrop-filter: blur(24px) saturate(1.4);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  box-shadow:
    0 16px 48px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.03),
    inset 0 1px 0 rgba(255, 255, 255, 0.04);
  opacity: 0;
  visibility: hidden;
  transform: translateX(-50%) translateY(6px);
  transition: opacity 0.2s ease 0.2s, visibility 0.2s ease 0.2s, transform 0.2s ease 0.2s;
  z-index: 1001;
  pointer-events: none;
}

.nav-group:hover .nav-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0);
  transition-delay: 0.15s;
  pointer-events: auto;
}

.nav-dropdown a {
  display: block;
  padding: 8px 14px;
  font-size: 0.8125rem;
  color: var(--text-secondary);
  text-decoration: none;
  border-radius: 8px;
  transition: color 0.15s ease, background-color 0.15s ease;
  white-space: nowrap;
}

.nav-dropdown a:hover {
  color: var(--text-primary);
  background: var(--bg-card-hover);
}

.nav-dropdown a.active {
  color: var(--accent-primary);
  background: var(--accent-primary-dim);
}

/* Scroll progress */
.scroll-progress {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--accent-primary), var(--bearish));
  width: 0%;
  transition: width 0.1s linear;
}

/* Mobile toggle */
.nav-mobile-toggle {
  display: none;
  background: none;
  border: none;
  color: var(--text-primary);
  cursor: pointer;
  padding: 8px;
}

@media (max-width: 900px) {
  .nav-links {
    display: none;
    position: fixed;
    top: 64px;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(5, 5, 8, 0.97);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    flex-direction: column;
    padding: 16px;
    border-bottom: 1px solid var(--border-primary);
    overflow-y: auto;
    gap: 2px;
  }

  .nav-links.open {
    display: flex;
  }

  .nav-links a {
    padding: 14px 16px;
    font-size: 0.9375rem;
  }

  .nav-mobile-toggle {
    display: block;
  }

  /* Flatten dropdowns on mobile */
  .nav-group {
    width: 100%;
  }

  .nav-group-label {
    display: block;
    padding: 14px 16px;
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--text-muted);
    pointer-events: none;
  }

  .nav-dropdown {
    position: static;
    opacity: 1;
    visibility: visible;
    transform: none;
    background: transparent;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    border: none;
    box-shadow: none;
    padding: 0 0 0 12px;
    min-width: 0;
  }

  .nav-dropdown a {
    padding: 12px 16px;
    font-size: 0.9375rem;
  }
}

/* ===========================================================
   LIVE TICKER
   =========================================================== */
.live-ticker {
  position: fixed;
  top: 64px;
  left: 0;
  right: 0;
  z-index: 999;
  height: 36px;
  background: rgba(5, 5, 8, 0.92);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 32px;
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--text-secondary);
  overflow: hidden;
  transition: opacity 0.4s ease;
}

.live-ticker.loading {
  opacity: 0.5;
}

.ticker-item {
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}

.ticker-label {
  color: var(--text-muted);
  font-weight: 500;
  text-transform: uppercase;
  font-size: 0.625rem;
  letter-spacing: 0.05em;
}

.ticker-value {
  font-weight: 600;
  color: var(--text-primary);
}

.ticker-value.up { color: var(--bullish); }
.ticker-value.down { color: var(--bearish); }
.ticker-value.neutral { color: var(--text-primary); }
.ticker-value.extreme-fear { color: var(--bearish); }
.ticker-value.fear { color: #f97316; }
.ticker-value.greed { color: var(--bullish); }

.ticker-change {
  font-size: 0.6875rem;
  font-weight: 500;
}

.ticker-change.up { color: var(--bullish); }
.ticker-change.down { color: var(--bearish); }

.ticker-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--bullish);
  animation: tickerPulse 2s ease-in-out infinite;
}

.ticker-dot.live { background: var(--bullish); }
.ticker-dot.stale { background: var(--warning); animation: none; }
.ticker-dot.offline { background: var(--bearish); animation: none; }

@keyframes tickerPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

.ticker-status {
  font-size: 0.625rem;
  color: var(--text-muted);
}

@media (max-width: 768px) {
  .live-ticker {
    gap: 16px;
    padding: 0 12px;
    font-size: 0.6875rem;
  }
  .ticker-item:nth-child(n+5) {
    display: none;
  }
}

@media (max-width: 480px) {
  .live-ticker {
    gap: 12px;
  }
  .ticker-item:nth-child(n+4) {
    display: none;
  }
  .ticker-label {
    display: none;
  }
}

/* ===========================================================
   LAYOUT
   =========================================================== */
section {
  padding: var(--space-15) var(--space-3);
  position: relative;
  scroll-margin-top: 108px;
}

section:first-of-type {
  scroll-margin-top: 0;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

/* Section dividers — gradient line: transparent -> orange -> transparent */
.section-divider {
  height: 1px;
  border: none;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(247, 147, 26, 0.06) 15%,
    rgba(247, 147, 26, 0.2) 50%,
    rgba(247, 147, 26, 0.06) 85%,
    transparent 100%
  );
  margin: 0;
}

/* Chapter intros */
.chapter-intro {
  max-width: 800px;
  margin: 0 auto 64px;
  text-align: center;
  padding: 48px 32px;
  scroll-margin-top: 108px;
}

/* First chapter intro needs extra top padding to clear the fixed navbar + ticker */
.nav + .section-divider + .chapter-intro {
  padding-top: 120px;
}
.nav + .live-ticker + .section-divider + .chapter-intro {
  padding-top: 120px;
}

.chapter-intro h2 {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--text-primary);
  margin-bottom: 12px;
}

.chapter-intro p {
  font-size: 1rem;
  color: var(--text-secondary);
  line-height: 1.7;
}

/* ===========================================================
   HERO
   =========================================================== */
.hero {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-top: 110px;
  background:
    linear-gradient(180deg, rgba(239, 68, 68, 0.05) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 0%, rgba(247, 147, 26, 0.07) 0%, transparent 60%),
    var(--bg-primary);
  position: relative;
  overflow: hidden;
}

/* Dot-grid pattern at 48px intervals */
.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.025) 1px, transparent 0);
  background-size: 48px 48px;
  pointer-events: none;
}

/* Subtle radial accent glow */
.hero::after {
  content: '';
  position: absolute;
  top: -15%;
  left: 50%;
  transform: translateX(-50%);
  width: 900px;
  height: 700px;
  background: radial-gradient(ellipse, rgba(247, 147, 26, 0.05) 0%, transparent 65%);
  pointer-events: none;
}

.hero-content {
  position: relative;
  z-index: 1;
  max-width: 920px;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  background: var(--bearish-dim);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 100px;
  padding: var(--space-1) 22px;
  margin-bottom: 36px;
  font-family: var(--font-body);
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--bearish);
  box-shadow: 0 0 40px rgba(239, 68, 68, 0.08);
}

.pulse-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--bearish);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

.hero h1 {
  font-family: var(--font-display);
  font-size: clamp(3rem, 7vw, 5.5rem);
  font-weight: 800;
  letter-spacing: -0.04em;
  line-height: 1.02;
  margin-bottom: 24px;
}

.hero h1 .highlight {
  background: linear-gradient(135deg, var(--bearish), var(--accent-primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 60px rgba(247, 147, 26, 0.08));
}

.hero-stat-row {
  display: flex;
  justify-content: center;
  gap: var(--space-6);
  margin: var(--space-5) 0;
  flex-wrap: wrap;
}

.hero-stat {
  text-align: center;
}

.hero-stat .value {
  font-family: var(--font-mono);
  font-size: clamp(1.8rem, 3.5vw, 2.8rem);
  font-weight: 700;
  letter-spacing: -0.02em;
}

.hero-stat .value.down { color: var(--bearish); }
.hero-stat .value.neutral { color: var(--text-primary); }

.hero-stat .label {
  font-size: 0.8125rem;
  color: var(--text-muted);
  margin-top: 4px;
  font-weight: 500;
}

.hero-date {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin-top: 36px;
}

.scroll-indicator {
  position: absolute;
  bottom: 36px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  color: var(--text-muted);
  font-size: 0.75rem;
  font-weight: 500;
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(10px); }
}

/* ===========================================================
   SECTION HEADERS
   =========================================================== */
.section-header {
  margin-bottom: var(--space-8);
}

.section-overline {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-bottom: 14px;
}

.section-overline.bear { color: var(--bearish); }
.section-overline.bull { color: var(--bullish); }
.section-overline.neutral { color: var(--accent-secondary); }
.section-overline.verdict { color: var(--purple); }
.section-overline.orange { color: var(--accent-primary); }

.section-title {
  font-family: var(--font-display);
  font-size: clamp(2.2rem, 4.5vw, 3.2rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.1;
  color: var(--text-primary);
  margin-bottom: 16px;
}

.section-desc {
  font-family: var(--font-body);
  font-size: 1.125rem;
  font-weight: 400;
  color: var(--text-secondary);
  line-height: 1.7;
  max-width: 720px;
}

/* ===========================================================
   STAT CARDS
   =========================================================== */
.stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: var(--space-3);
  margin-bottom: var(--space-6);
}

.stat-card {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.01) 0%, transparent 40%),
    var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 16px;
  padding: var(--space-4) var(--space-3);
  position: relative;
  overflow: hidden;
  transition: transform var(--transition-base), border-color var(--transition-base), box-shadow var(--transition-base);
}

.stat-card:hover {
  transform: translateY(-3px);
  border-color: var(--border-accent);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.35),
    0 2px 8px rgba(0, 0, 0, 0.25),
    0 0 60px rgba(247, 147, 26, 0.04);
}

.stat-card.bear:hover { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35), 0 0 60px rgba(239, 68, 68, 0.06); }
.stat-card.bull:hover { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35), 0 0 60px rgba(16, 185, 129, 0.06); }
.stat-card.warn:hover { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35), 0 0 60px rgba(245, 158, 11, 0.06); }
.stat-card.info:hover { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35), 0 0 60px rgba(59, 130, 246, 0.06); }

/* Gradient top border */
.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  border-radius: 16px 16px 0 0;
}

.stat-card.bear::before { background: linear-gradient(90deg, var(--bearish), rgba(239, 68, 68, 0.4)); }
.stat-card.bull::before { background: linear-gradient(90deg, var(--bullish), rgba(16, 185, 129, 0.4)); }
.stat-card.warn::before { background: linear-gradient(90deg, var(--warning), rgba(245, 158, 11, 0.4)); }
.stat-card.info::before { background: linear-gradient(90deg, var(--accent-secondary), rgba(59, 130, 246, 0.4)); }

.stat-card .stat-value {
  font-family: var(--font-mono);
  font-size: clamp(1.75rem, 2.5vw, 2.25rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  line-height: 1.1;
  margin-bottom: 6px;
}

.stat-card.bear .stat-value { color: var(--bearish); }
.stat-card.bull .stat-value { color: var(--bullish); }
.stat-card.warn .stat-value { color: var(--warning); }
.stat-card.info .stat-value { color: var(--accent-secondary); }

.stat-card .stat-label {
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--text-secondary);
  line-height: 1.4;
}

.stat-card .stat-detail {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: 10px;
  line-height: 1.5;
}

/* ===========================================================
   CHART CONTAINERS
   =========================================================== */
.chart-container {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.012) 0%, transparent 50%),
    var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 20px;
  padding: var(--space-4);
  margin-bottom: var(--space-4);
  position: relative;
  overflow: hidden;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03);
  transition: border-color var(--transition-base), box-shadow var(--transition-base);
}

.chart-container:hover {
  border-color: var(--border-secondary);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.03),
    0 0 60px rgba(247, 147, 26, 0.03);
}

.chart-container::before {
  content: '';
  position: absolute;
  top: -100px;
  left: -100px;
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, rgba(59, 130, 246, 0.03) 0%, transparent 70%);
  pointer-events: none;
}

.chart-container h3 {
  font-family: var(--font-display);
  font-size: 1.1875rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 4px;
}

.chart-container .chart-subtitle {
  font-size: 0.8125rem;
  color: var(--text-muted);
  margin-bottom: 28px;
}

.chart-canvas-wrap {
  position: relative;
  width: 100%;
  height: 420px;
}

/* TradingView container */
.tradingview-widget-container,
.tv-lightweight-charts {
  border-radius: 16px;
  overflow: hidden;
}

/* ApexCharts container */
.apexcharts-canvas {
  background: transparent !important;
}

.apexcharts-tooltip {
  background: var(--bg-elevated) !important;
  border: 1px solid var(--border-secondary) !important;
  border-radius: 8px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4) !important;
}

.apexcharts-tooltip .apexcharts-tooltip-title {
  background: var(--bg-card) !important;
  border-bottom-color: var(--border-primary) !important;
  color: var(--text-primary) !important;
}

.apexcharts-tooltip .apexcharts-tooltip-text {
  color: var(--text-secondary) !important;
}

.apexcharts-gridline {
  stroke: var(--border-primary) !important;
}

.apexcharts-xaxis-label,
.apexcharts-yaxis-label {
  fill: var(--text-muted) !important;
}

/* ===========================================================
   CONTENT BLOCKS
   =========================================================== */
.content-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-3);
  margin-top: var(--space-4);
}

.content-block {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.01) 0%, transparent 40%),
    var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 16px;
  padding: var(--space-4);
  transition: border-color var(--transition-base), box-shadow var(--transition-base), transform var(--transition-base);
}

.content-block:hover {
  border-color: var(--border-accent);
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25), 0 0 40px rgba(247, 147, 26, 0.02);
  transform: translateY(-1px);
}

.content-block h3 {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 10px;
  line-height: 1.3;
}

.content-block p {
  font-size: 0.9375rem;
  color: var(--text-secondary);
  line-height: 1.75;
}

/* ===========================================================
   RISK BADGES
   =========================================================== */
.risk-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  padding: 4px 10px;
  border-radius: 6px;
  line-height: 1;
}

.risk-badge::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
}

.risk-badge.critical {
  background: var(--bearish-dim);
  color: var(--bearish);
}
.risk-badge.critical::before { background: var(--bearish); }

.risk-badge.severe {
  background: var(--warning-dim);
  color: var(--warning);
}
.risk-badge.severe::before { background: var(--warning); }

.risk-badge.moderate {
  background: var(--accent-secondary-dim);
  color: var(--accent-secondary);
}
.risk-badge.moderate::before { background: var(--accent-secondary); }

.risk-badge.positive {
  background: var(--bullish-dim);
  color: var(--bullish);
}
.risk-badge.positive::before { background: var(--bullish); }

/* ===========================================================
   QUOTE BLOCKS
   =========================================================== */
.quote-block {
  position: relative;
  padding: var(--space-3) var(--space-3) var(--space-3) var(--space-4);
  margin: var(--space-3) 0;
  background:
    linear-gradient(90deg, rgba(247, 147, 26, 0.02) 0%, transparent 20%),
    var(--bg-card);
  border: 1px solid var(--border-primary);
  border-left: 3px solid var(--accent-primary);
  border-radius: 0 12px 12px 0;
  transition: border-color var(--transition-base), box-shadow var(--transition-base);
}

.quote-block:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2), 0 0 40px rgba(247, 147, 26, 0.02);
}

.quote-block.bearish {
  background:
    linear-gradient(90deg, rgba(239, 68, 68, 0.02) 0%, transparent 20%),
    var(--bg-card);
}

.quote-block.bullish {
  background:
    linear-gradient(90deg, rgba(16, 185, 129, 0.02) 0%, transparent 20%),
    var(--bg-card);
}

.quote-block::before {
  content: '\201C';
  position: absolute;
  top: 12px;
  left: 12px;
  font-family: var(--font-display);
  font-size: 2.5rem;
  font-weight: 800;
  color: var(--accent-primary);
  opacity: 0.3;
  line-height: 1;
}

.quote-block .quote-text {
  font-style: italic;
  font-weight: 400;
  color: var(--text-primary);
  line-height: 1.75;
  margin-bottom: 12px;
}

.quote-block .quote-attribution {
  font-size: 0.8125rem;
  font-weight: 600;
  color: var(--text-secondary);
}

.quote-block .quote-role {
  font-size: 0.75rem;
  font-weight: 400;
  color: var(--text-muted);
  margin-top: 2px;
}

.quote-block.bearish {
  border-left-color: var(--bearish);
}
.quote-block.bearish::before { color: var(--bearish); }

.quote-block.bullish {
  border-left-color: var(--bullish);
}
.quote-block.bullish::before { color: var(--bullish); }

/* ===========================================================
   TIMELINE
   =========================================================== */
.timeline {
  position: relative;
  padding-left: 36px;
  margin: var(--space-6) 0;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 11px;
  top: 8px;
  bottom: 8px;
  width: 2px;
  background: linear-gradient(180deg, var(--border-secondary) 0%, var(--bearish-dim) 50%, var(--border-secondary) 100%);
}

.timeline-item {
  position: relative;
  margin-bottom: var(--space-4);
  padding-left: 4px;
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: -29px;
  top: 6px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid var(--bearish);
  background: var(--bg-primary);
  z-index: 1;
}

.timeline-item.highlight::before {
  background: var(--bearish);
  box-shadow: 0 0 0 4px var(--bearish-dim), 0 0 16px var(--bearish-glow);
}

.timeline-item .tl-date {
  font-family: var(--font-mono);
  font-size: 0.8125rem;
  font-weight: 600;
  color: var(--accent-primary);
  margin-bottom: 4px;
}

.timeline-item .tl-title {
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 1.0625rem;
  color: var(--text-primary);
  margin-bottom: 6px;
  line-height: 1.3;
}

.timeline-item .tl-desc {
  font-size: 0.9375rem;
  color: var(--text-secondary);
  line-height: 1.65;
}

/* ===========================================================
   DATA TABLE
   =========================================================== */
.data-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: var(--space-4) 0;
}

.data-table thead th {
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--text-muted);
  padding: 14px 20px;
  text-align: left;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-secondary);
}

.data-table thead th:first-child { border-radius: 8px 0 0 0; }
.data-table thead th:last-child { border-radius: 0 8px 0 0; }

.data-table tbody td {
  font-size: 0.9375rem;
  color: var(--text-secondary);
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-primary);
  transition: background-color 0.15s ease;
}

.data-table tbody tr:hover td {
  background: var(--bg-card-hover);
}

.data-table tbody tr:nth-child(even) td {
  background: rgba(10, 10, 16, 0.4);
}

.data-table tbody tr:nth-child(even):hover td {
  background: var(--bg-card-hover);
}

.data-table .bear-col {
  color: var(--bearish);
  font-weight: 500;
}

.data-table .bull-col {
  color: var(--bullish);
  font-weight: 500;
}

/* ===========================================================
   VERDICT
   =========================================================== */
.verdict-box {
  background:
    linear-gradient(180deg, rgba(139, 92, 246, 0.04) 0%, transparent 30%),
    linear-gradient(135deg, rgba(139, 92, 246, 0.06) 0%, rgba(59, 130, 246, 0.04) 100%);
  border: 1px solid rgba(139, 92, 246, 0.12);
  border-radius: 20px;
  padding: var(--space-6);
  margin-top: var(--space-5);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.03),
    0 0 80px rgba(139, 92, 246, 0.06);
}

.verdict-box h3 {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 800;
  margin-bottom: 16px;
  color: var(--purple);
}

.verdict-box p {
  color: var(--text-secondary);
  font-size: 1.05rem;
  line-height: 1.8;
  margin-bottom: 16px;
}

.outlook-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-3);
  margin-top: var(--space-4);
}

.outlook-card {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.01) 0%, transparent 40%),
    rgba(5, 5, 8, 0.6);
  border: 1px solid var(--border-primary);
  border-radius: 16px;
  padding: var(--space-4);
  text-align: center;
  transition: transform var(--transition-base), border-color var(--transition-base), box-shadow var(--transition-base);
}

.outlook-card:hover {
  transform: translateY(-2px);
  border-color: var(--border-accent);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.outlook-card .scenario {
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 1rem;
  margin-bottom: 8px;
}

.outlook-card .probability {
  font-family: var(--font-mono);
  font-size: 1.75rem;
  font-weight: 700;
  margin-bottom: 8px;
}

.outlook-card .range {
  font-family: var(--font-mono);
  font-size: 0.875rem;
  color: var(--text-muted);
}

.outlook-card.bear-card .probability { color: var(--bearish); }
.outlook-card.bear-card:hover { box-shadow: 0 8px 24px rgba(239, 68, 68, 0.08); }

.outlook-card.base-card .probability { color: var(--accent-secondary); }
.outlook-card.base-card:hover { box-shadow: 0 8px 24px rgba(59, 130, 246, 0.08); }

.outlook-card.bull-card .probability { color: var(--bullish); }
.outlook-card.bull-card:hover { box-shadow: 0 8px 24px rgba(16, 185, 129, 0.08); }

/* ===========================================================
   QUOTES GRID
   =========================================================== */
.quotes-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-3);
}

/* ===========================================================
   FOOTER
   =========================================================== */
footer {
  border-top: 1px solid var(--border-primary);
  padding: var(--space-8) var(--space-3);
  background: var(--bg-secondary);
}

.footer-grid {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: var(--space-6);
}

footer h4 {
  font-family: var(--font-display);
  font-size: 0.9rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: var(--text-primary);
}

footer p, footer a {
  font-size: 0.8125rem;
  color: var(--text-muted);
  line-height: 1.8;
}

footer a {
  text-decoration: none;
  transition: color 0.2s ease;
}

footer a:hover {
  color: var(--text-secondary);
}

.footer-bottom {
  margin-top: var(--space-5);
  padding-top: var(--space-3);
  border-top: 1px solid var(--border-primary);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.footer-bottom p {
  font-size: 0.75rem;
  color: var(--text-muted);
}

/* ===========================================================
   ANIMATIONS — Scroll Reveal
   =========================================================== */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }
.reveal-delay-4 { transition-delay: 0.4s; }

/* ===========================================================
   SECTION BACKGROUNDS
   =========================================================== */
.bg-secondary {
  background: var(--bg-secondary);
}

.bg-bear {
  background:
    linear-gradient(135deg, rgba(239, 68, 68, 0.035) 0%, transparent 60%),
    var(--bg-primary);
}

.bg-bull {
  background:
    linear-gradient(135deg, rgba(16, 185, 129, 0.035) 0%, transparent 60%),
    var(--bg-primary);
}

.bg-verdict {
  background:
    linear-gradient(135deg, rgba(139, 92, 246, 0.035) 0%, transparent 60%),
    var(--bg-primary);
}

.bg-glow-blue {
  background:
    radial-gradient(ellipse at 80% 50%, rgba(59, 130, 246, 0.035) 0%, transparent 50%),
    var(--bg-primary);
}

/* ===========================================================
   RESPONSIVE — Tablet (900px)
   =========================================================== */
@media (max-width: 900px) {
  .content-grid {
    grid-template-columns: 1fr;
  }

  .footer-grid {
    grid-template-columns: 1fr;
  }

  .quotes-grid {
    grid-template-columns: 1fr;
  }

  section {
    padding: var(--space-10) var(--space-3);
  }
}

/* ===========================================================
   RESPONSIVE — Phone (768px)
   =========================================================== */
@media (max-width: 768px) {
  section {
    padding: 72px var(--space-2);
  }

  .container {
    padding: 0 var(--space-2);
  }

  .outlook-grid {
    grid-template-columns: 1fr;
  }

  .stat-grid {
    grid-template-columns: 1fr;
    gap: var(--space-2);
  }

  .hero h1 {
    font-size: clamp(2rem, 8vw, 3.5rem);
  }

  .hero-stat-row {
    gap: var(--space-3);
  }

  .hero-stat .value {
    font-size: clamp(1.5rem, 4vw, 2rem);
  }

  .section-title {
    font-size: clamp(1.75rem, 5vw, 2.5rem);
  }

  .verdict-box {
    padding: var(--space-4) var(--space-3);
  }

  .chart-container {
    padding: var(--space-3) var(--space-2);
    border-radius: 16px;
  }

  .chart-canvas-wrap {
    height: 300px;
  }

  .data-table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    min-width: 0;
  }

  .data-table th,
  .data-table td {
    padding: 12px 14px;
    font-size: 0.8125rem;
    min-width: var(--space-10);
  }

  .data-table th:first-child,
  .data-table td:first-child {
    white-space: nowrap;
  }

  .section-header {
    margin-bottom: var(--space-5);
  }
}

/* ===========================================================
   RESPONSIVE — Small Phone (480px)
   =========================================================== */
@media (max-width: 480px) {
  section {
    padding: 72px var(--space-1);
  }

  .stat-card {
    padding: var(--space-3) var(--space-2);
  }

  .content-block {
    padding: var(--space-3) var(--space-2);
  }

  .hero-badge {
    font-size: 0.8125rem;
    padding: 6px var(--space-2);
  }

  .quote-block {
    padding: var(--space-3) var(--space-2) var(--space-3) var(--space-3);
  }

  .verdict-box {
    padding: var(--space-3) var(--space-2);
  }
}

/* ===========================================================
   REDUCED MOTION
   =========================================================== */
@media (prefers-reduced-motion: reduce) {
  .reveal {
    opacity: 1;
    transform: none;
    transition: none;
  }

  .scroll-indicator { animation: none; }
  .pulse-dot { animation: none; }

  .stat-card,
  .content-block,
  .outlook-card,
  .quote-block {
    transition: none;
  }

  .nav-dropdown {
    transition: none;
  }
}
</style>
<noscript><style>.reveal { opacity: 1 !important; transform: none !important; }</style></noscript>
</head>
<body>

<!-- NAVIGATION -->
<nav class="nav" id="nav">
  <div class="nav-inner">
    <div class="nav-brand">
      <svg class="btc-logo" viewBox="0 0 32 32" width="22" height="22" xmlns="http://www.w3.org/2000/svg">
        <circle cx="16" cy="16" r="16" fill="#f7931a"/>
        <path fill="#fff" d="M22.5 14.2c.3-2.2-1.3-3.4-3.6-4.2l.7-2.9-1.8-.4-.7 2.8c-.5-.1-.9-.2-1.4-.3l.7-2.9-1.8-.4-.7 2.9c-.4-.1-.8-.2-1.1-.3l-2.5-.6-.5 1.9s1.3.3 1.3.3c.7.2.8.7.8 1l-.8 3.3.1.1h-.1l-1.2 4.6c-.1.2-.3.5-.7.4 0 0-1.3-.3-1.3-.3l-.9 2 2.3.6c.4.1.9.2 1.3.3l-.7 3 1.8.4.7-2.9c.5.1 1 .3 1.4.4l-.7 2.9 1.8.4.7-3c3.1.6 5.5.4 6.5-2.5.8-2.3 0-3.6-1.7-4.5 1.2-.3 2.1-1.1 2.3-2.7zm-4.2 5.8c-.6 2.3-4.5 1.1-5.8.8l1-4.2c1.3.3 5.4 1 4.8 3.4zm.6-5.8c-.5 2.1-3.8 1-4.8.8l.9-3.8c1.1.3 4.5.7 3.9 3z"/>
      </svg>
      BTC<span>2026</span>
    </div>
    <button class="nav-mobile-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Toggle navigation">
      <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18M3 6h18M3 18h18"/></svg>
    </button>
    <div class="nav-links" id="navLinks">
      <div class="nav-group">
        <a href="#hero" class="nav-group-label">Overview</a>
        <div class="nav-dropdown">
          <a href="#hero">Introduction</a>
          <a href="#executive">Executive Summary</a>
        </div>
      </div>
      <div class="nav-group">
        <a href="#timeline" class="nav-group-label">Timeline</a>
        <div class="nav-dropdown">
          <a href="#timeline">Price Action</a>
          <a href="#evidence">Key Evidence</a>
        </div>
      </div>
      <div class="nav-group">
        <a href="#macro" class="nav-group-label">Analysis</a>
        <div class="nav-dropdown">
          <a href="#macro">Macro & Regulatory</a>
          <a href="#market">Market Structure</a>
          <a href="#quantum">Quantum Risk</a>
        </div>
      </div>
      <div class="nav-group">
        <a href="#halving" class="nav-group-label">Cycles</a>
        <div class="nav-dropdown">
          <a href="#halving">Halving Analysis</a>
          <a href="#drawdowns">Drawdowns</a>
          <a href="#onchain">On-Chain</a>
          <a href="#bottoming">Bottoming Signals</a>
        </div>
      </div>
      <div class="nav-group">
        <a href="#voices" class="nav-group-label">Perspectives</a>
        <div class="nav-dropdown">
          <a href="#voices">Industry Voices</a>
          <a href="#institutional">Institutions</a>
          <a href="#predictions">Targets</a>
          <a href="#bull">Bull Case</a>
        </div>
      </div>
      <div class="nav-group">
        <a href="#risk" class="nav-group-label">Verdict</a>
        <div class="nav-dropdown">
          <a href="#risk">Risk Matrix</a>
          <a href="#verdict">Final Assessment</a>
        </div>
      </div>
    </div>
  </div>
  <div class="scroll-progress" id="scrollProgress"></div>
</nav>

<!-- LIVE TICKER -->
<div class="live-ticker loading" id="liveTicker">
  <div class="ticker-item">
    <div class="ticker-dot live" id="tickerDot"></div>
    <span class="ticker-status" id="tickerStatus">Connecting...</span>
  </div>
  <div class="ticker-item">
    <span class="ticker-label">BTC</span>
    <span class="ticker-value" id="tickerPrice">$68,605</span>
    <span class="ticker-change" id="tickerChange">--</span>
  </div>
  <div class="ticker-item">
    <span class="ticker-label">24h Vol</span>
    <span class="ticker-value" id="tickerVolume">--</span>
  </div>
  <div class="ticker-item">
    <span class="ticker-label">Mkt Cap</span>
    <span class="ticker-value" id="tickerMarketCap">--</span>
  </div>
  <div class="ticker-item">
    <span class="ticker-label">Fear &amp; Greed</span>
    <span class="ticker-value" id="tickerFearGreed">--</span>
  </div>
  <div class="ticker-item">
    <span class="ticker-label">Dominance</span>
    <span class="ticker-value" id="tickerDominance">--</span>
  </div>
</div>

<!-- CHAPTER 01: THE STORY -->
<div class="section-divider"></div>
<div class="chapter-intro">
  <span class="chapter-number">01</span>
  <p class="chapter-desc">The full picture: what happened to Bitcoin, and the essential summary of a historic drawdown.</p>
</div>

<!-- 1. HERO -->
<section class="hero" id="hero">
  <div class="hero-content">
    <div class="hero-badge"><span class="pulse-dot"></span> Live Analysis | February 16, 2026</div>
    <h1>Bitcoin's <span class="highlight">-52.4%</span><br>Drawdown Decoded</h1>
    <p style="color:var(--text-secondary);font-size:1.15rem;max-width:660px;margin:0 auto;line-height:1.7">
      From an all-time high of $126,198 to a flash-crash low of $60,062. A full, data-driven breakdown of what happened, why it happened, and what comes next.
    </p>
    <div class="hero-stat-row">
      <div class="hero-stat"><div class="value down" data-counter="60062" data-prefix="$">$0</div><div class="label">Feb 5 Flash Crash Low</div></div>
      <div class="hero-stat"><div class="value neutral" id="heroCurrentPrice" data-counter="68605" data-prefix="$">$0</div><div class="label" id="heroCurrentLabel">Current Price (Feb 16)</div></div>
      <div class="hero-stat"><div class="value down" data-counter="52" data-prefix="-" data-suffix=".4%">0</div><div class="label">Decline from ATH</div></div>
      <div class="hero-stat"><div class="value down" data-counter="5" data-prefix="F&amp;G: ">0</div><div class="label">All-Time Low Sentiment</div></div>
    </div>
    <p class="hero-date">Analysis compiled February 16, 2026 &middot; 30+ sources cross-referenced &middot; 21 interactive charts &middot; On-chain data from Glassnode</p>
  </div>
  <div class="scroll-indicator">
    Scroll to explore
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
  </div>
</section>

<!-- 2. EXECUTIVE SUMMARY -->
<section id="executive" class="bg-secondary">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">Executive Summary</span>
      <h2 class="section-title">The Story So Far</h2>
      <p class="section-desc">Bitcoin peaked at $126,198 in October 2025. Five months later, it trades at $68,605, down 45.6%. Here is the essential picture.</p>
    </div>
    <div class="content-grid reveal">
      <div class="content-block">
        <h3><span class="risk-badge critical">What Happened</span></h3>
        <p>Macro headwinds piled up: the Warsh Fed nomination, tariff wars, dollar strength, and a hawkish rate-cut pivot. They collided with extreme leverage (funding rates at +0.51%) and $6.18B in ETF outflows. The result was the worst single-day crash since FTX, with $60,062 as the intraday low on Feb 5.</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge positive">What Didn't Break</span></h3>
        <p>Unlike 2018 (Mt. Gox aftermath) and 2022 (FTX, Terra/Luna, 3AC), no exchange collapsed, no protocol imploded, no hidden leverage blew up. Bernstein calls this the "weakest bear case in history." The infrastructure is intact. Spot Bitcoin ETFs hold $123B+ in combined AUM, led by BlackRock's IBIT at $54.12B. Corporate treasuries are growing. According to Glassnode data, long-term holders control 65-70% of circulating supply and have returned to net accumulation.</p>
      </div>
    </div>
    <div class="quote-block bullish reveal" style="margin-top:32px">
      <p class="quote-text">"This is the weakest bear case in history. No systemic failures. Infrastructure intact. Crisis of confidence, not crisis of infrastructure."</p>
      <p class="quote-attribution">Bernstein Analysts</p>
      <p class="quote-role">AllianceBernstein Research, February 2026</p>
    </div>
  </div>
</section>

<!-- CHAPTER 02: THE EVIDENCE -->
<div class="section-divider"></div>
<div class="chapter-intro">
  <span class="chapter-number">02</span>
  <p class="chapter-desc">The timeline of decline and the raw data behind it: liquidations, outflows, sentiment extremes, and market cap destruction.</p>
</div>

<!-- 3. PRICE TIMELINE -->
<section id="timeline">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">Price Action</span>
      <h2 class="section-title">The Decline: October 2025 to February 2026</h2>
      <p class="section-desc">From euphoric all-time highs to the deepest drawdown since the FTX collapse, traced through every major inflection point.</p>
    </div>
    <div class="chart-container reveal">
      <h3>BTC/USD Price Timeline</h3>
      <div class="chart-subtitle">Interactive &middot; Hover for details &middot; Key events annotated</div>
      <div class="chart-canvas-wrap"><canvas id="priceChart"></canvas></div>
    </div>
    <div class="timeline reveal">
      <div class="timeline-item"><div class="tl-date">Oct 6, 2025</div><div class="tl-title">All-Time High: $126,198</div><div class="tl-desc">Bitcoin peaks after a year-long post-halving rally. Euphoria at maximum. Fear & Greed at 78.</div></div>
      <div class="timeline-item"><div class="tl-date">Nov 2025</div><div class="tl-title">ETF Outflows Begin: $3.48B in one month</div><div class="tl-desc">Institutional selling intensifies. Initial pullback to $105K-$110K. The longest sustained outflow streak since ETF launch begins.</div></div>
      <div class="timeline-item"><div class="tl-date">Dec 10, 2025</div><div class="tl-title">Fed Signals Only 1 Cut in 2026</div><div class="tl-desc">Hawkish dot plot crushes rate-cut expectations. BTC consolidates at $80K to $88K. Markets had priced in 3-4 cuts.</div></div>
      <div class="timeline-item highlight"><div class="tl-date">Jan 30, 2026</div><div class="tl-title">Kevin Warsh Nominated as Fed Chair</div><div class="tl-desc">Known inflation hawk. BTC drops 17% in 72 hours. $1.7B in bullish bets liquidated. Gold -20%, silver -40%. Signals structurally tighter money ahead.</div></div>
      <div class="timeline-item"><div class="tl-date">Feb 1-2, 2026</div><div class="tl-title">Weekend Crash: $2.5B Liquidated</div><div class="tl-desc">Leverage cascade begins. BTC breaks below $80K for the first time since April 2025. 93% of liquidations are longs.</div></div>
      <div class="timeline-item highlight"><div class="tl-date">Feb 5, 2026</div><div class="tl-title">Flash Crash to $60,062</div><div class="tl-desc">Worst single-day drop since FTX. $1.26B liquidated. Fear & Greed hits 5, an all-time low, worse than both Luna (6) and FTX (12).</div></div>
      <div class="timeline-item"><div class="tl-date">Feb 6, 2026</div><div class="tl-title">Dead-Cat Bounce: +11% to $70K</div><div class="tl-desc">Whales buy 66,940 BTC in a single day, the largest single-day whale accumulation since 2022. Mega whale wallets add 70,000+ BTC.</div></div>
      <div class="timeline-item"><div class="tl-date">Feb 16, 2026</div><div class="tl-title">Current: $68,605</div><div class="tl-desc">Rangebound between $66K and $70K. Testing the 200-week EMA at $68K. Recovery on cooling inflation data. Outcome uncertain.</div></div>
    </div>
  </div>
</section>

<!-- 4. THE EVIDENCE -->
<section id="evidence" class="bg-secondary">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">The Evidence</span>
      <h2 class="section-title">By the Numbers</h2>
      <p class="section-desc">The raw data behind the decline. Liquidations, outflows, sentiment extremes, and market cap destruction at a glance.</p>
    </div>
    <div class="stat-grid reveal">
      <div class="stat-card bear"><div class="stat-value">$25B+</div><div class="stat-label">Cumulative Liquidations (Feb)</div><div class="stat-detail">$2.5B in 24 hours on Feb 1-2 alone</div></div>
      <div class="stat-card bear"><div class="stat-value">-$6.18B</div><div class="stat-label">ETF Net Outflows (Nov to Jan)</div><div class="stat-detail">Longest sustained outflow since ETF launch</div></div>
      <div class="stat-card warn"><div class="stat-value">5</div><div class="stat-label">Fear & Greed Index (Feb 6)</div><div class="stat-detail">All-time low. Worse than FTX (12) and Luna (6)</div></div>
      <div class="stat-card bear"><div class="stat-value">~$2T</div><div class="stat-label">Total Market Cap Loss</div><div class="stat-detail">From $4.38T peak to ~$2.3T currently</div></div>
      <div class="stat-card info"><div class="stat-value">-42%</div><div class="stat-label">Futures OI Collapse</div><div class="stat-detail">$94.1B peak to $54.6B. Massive deleveraging</div></div>
      <div class="stat-card warn"><div class="stat-value">-$14B</div><div class="stat-label">Stablecoin Outflows (Dec to Feb)</div><div class="stat-detail">$7B disappeared in a single week</div></div>
      <div class="stat-card bear"><div class="stat-value">-30%</div><div class="stat-label">Trading Volume Decline</div><div class="stat-detail">Monthly spot: $1T down to $700B</div></div>
      <div class="stat-card info"><div class="stat-value">$87K</div><div class="stat-label">Avg BTC Production Cost</div><div class="stat-detail">Currently trading 20% below mining cost</div></div>
    </div>
    <div class="chart-container reveal">
      <h3>Crypto Fear & Greed Index</h3>
      <div class="chart-subtitle">All-time low of 5 recorded Feb 6, surpassing FTX collapse depths</div>
      <div class="chart-canvas-wrap"><canvas id="fearGreedChart"></canvas></div>
    </div>
  </div>
</section>

<!-- CHAPTER 03: THE ANALYSIS -->
<div class="section-divider"></div>
<div class="chapter-intro">
  <span class="chapter-number">03</span>
  <p class="chapter-desc">Deep analysis of macro forces, market structure breakdown, and the emerging quantum computing risk.</p>
</div>

<!-- 5. MACRO & REGULATORY -->
<section id="macro" class="bg-bear">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">Macro & Regulatory</span>
      <h2 class="section-title">What Happened: The Macro Picture</h2>
      <p class="section-desc">Fed policy, the Warsh nomination, tariff wars, and the collapse of the "digital gold" narrative all hit at once.</p>
    </div>
    <div class="content-grid reveal">
      <div class="content-block">
        <h3><span class="risk-badge critical">Critical</span> Kevin Warsh Nomination</h3>
        <p>The single most impactful macro event. Warsh advocates for higher real rates and aggressive balance sheet reduction. Within 72 hours: BTC -17%, gold -20%, silver -40%. $250B evaporated from crypto markets.</p>
        <div class="quote-block bearish" style="margin-top:16px;margin-bottom:0">
          <p class="quote-text">"Bitcoin is speculative and thrives primarily in low-rate environments."</p>
          <p class="quote-attribution">Kevin Warsh</p>
          <p class="quote-role">Fed Chair Nominee, Former Fed Governor</p>
        </div>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge critical">Critical</span> Fed Hawkish Pivot</h3>
        <p>December 2025 dot plot: only one 25bp cut in 2026, down from market expectations of 3-4. Rates at 3.50-3.75% create massive opportunity cost for holding zero-yield Bitcoin. January 2026 CPI at 2.4%, still above the 2% target. Inflation re-acceleration risk from tariffs could prevent any cuts.</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge severe">Severe</span> Tariff Escalation</h3>
        <p>10% on European goods, 10% on eight NATO allies rising to 25% by June 2026. New tariffs on Mexico, Canada, China caused 25% BTC drop in three days. Tariffs are directly inflationary, strengthening the dollar (DXY 96.2 to 97.6) and threatening the rate cuts Bitcoin bulls count on.</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge severe">Severe</span> Digital Gold Collapse</h3>
        <p>Gold surged +24% while BTC fell -52% since Oct 2025. BTC-to-gold ratio hit 17.6. BTC-Nasdaq correlation at 0.80, the highest ever. Bitcoin does not trade like gold. It trades like a high-beta Nasdaq derivative.</p>
        <div class="quote-block bearish" style="margin-top:16px;margin-bottom:0">
          <p class="quote-text">"The first casualty of the gold and silver surge will likely be Bitcoin. They jumped from the frying pan into the fire."</p>
          <p class="quote-attribution">Peter Schiff</p>
          <p class="quote-role">Chief Economist, Euro Pacific Asset Management</p>
        </div>
      </div>
    </div>
    <div class="chart-container reveal" style="margin-top:40px">
      <h3>Bitcoin ETF Monthly Net Flows</h3>
      <div class="chart-subtitle">From record inflows to sustained redemptions. The institutional tide reversed.</div>
      <div class="chart-canvas-wrap"><canvas id="etfChart"></canvas></div>
    </div>
    <div class="chart-container reveal" style="margin-top:40px">
      <h3>Cross-Asset Correlation Matrix</h3>
      <div class="chart-subtitle">Rolling Pearson correlation of BTC daily returns vs. major assets. The "digital gold" narrative is dead at -0.42.</div>
      <div class="chart-canvas-wrap" style="height:420px"><canvas id="correlationMatrix"></canvas></div>
    </div>
    <div class="chart-container reveal" style="margin-top:40px">
      <h3>Risk-Adjusted Returns (1-Year Sharpe Ratio)</h3>
      <div class="chart-subtitle">Gold's 4.20 Sharpe vs. Bitcoin's -0.74, the widest divergence in crypto history</div>
      <div class="chart-canvas-wrap" style="height:340px"><canvas id="sharpeChart"></canvas></div>
    </div>
  </div>
</section>

<!-- 6. MARKET STRUCTURE -->
<section id="market" class="bg-glow-blue">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">Market Structure</span>
      <h2 class="section-title">Leverage, Mining & Derivatives</h2>
      <p class="section-desc">Leverage cascades, miner capitulation, shattered support levels, and a derivatives market that amplified every move.</p>
    </div>
    <div class="chart-container reveal">
      <h3>BTC Futures Open Interest</h3>
      <div class="chart-subtitle">Massive deleveraging from $94.1B to $54.6B (-42%), then re-leveraging began</div>
      <div class="chart-canvas-wrap"><canvas id="oiChart"></canvas></div>
    </div>
    <div class="content-grid reveal">
      <div class="content-block">
        <h3><span class="risk-badge critical">Critical</span> Leverage Cascade</h3>
        <p>Funding rates at +0.51% (70.2% APR) signaled extreme long crowding. $1.68B liquidated on Feb 5, with 93% longs. OI collapsed 42% from $94.1B to $54.6B. Put/call ratio at 0.38, IV rank at 82.51. Options were pricing extreme moves.</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge severe">Severe</span> Miner Capitulation</h3>
        <p>Hash rate recovered to 1.376 ZH/s following a Texas storm disruption. Mining difficulty dropped 11.4% to 125.86T, the largest single adjustment since China's 2021 ban. Production cost ~$87K vs $68K price. Hash Ribbon inverted Nov 29, 2025. Hashprice at record low $35/PH/s. ROI exceeds 1,000 days. Only miners with electricity below $0.06/kWh remain profitable.</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge severe">Severe</span> Technical Breakdown</h3>
        <p>Lost 50-week MA for first time since Oct 2023. Every major support shattered: $100K, $90.2K (ETF cost basis), $87K (production cost), $80K (True Market Mean). Testing 200-week EMA at $68K. 9 of 12 MA indicators signal "Sell."</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge moderate">Moderate</span> DeFi Contagion</h3>
        <p>Stablecoin xUSD depeg triggered cascading liquidations across Morpho and Euler. Vega Protocol shut down despite a $3B valuation. $127M lost in Jan 2026 exploits. The $1.5B Bybit hack still hangs over the market.</p>
      </div>
    </div>
    <div class="chart-container reveal" style="margin-top:40px">
      <h3>Mining Production Cost by Region</h3>
      <div class="chart-subtitle">Only miners with electricity below $0.06/kWh remain profitable at current prices</div>
      <div class="chart-canvas-wrap"><canvas id="miningChart"></canvas></div>
    </div>
  </div>
</section>

<!-- 7. QUANTUM RISK -->
<section id="quantum" class="bg-secondary">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline neutral">Emerging Risk</span>
      <h2 class="section-title">Quantum Computing: FUD or Real Threat?</h2>
      <p class="section-desc">Bitcoin's ECDSA signatures are theoretically vulnerable to quantum attack. But how close is the threat, really?</p>
    </div>
    <div class="stat-grid reveal">
      <div class="stat-card info"><div class="stat-value">~1,500</div><div class="stat-label">Current Best Qubits (Physical)</div><div class="stat-detail">Noisy, error-prone, nowhere near sufficient</div></div>
      <div class="stat-card warn"><div class="stat-value">2-3M</div><div class="stat-label">Qubits Needed (Error-Corrected)</div><div class="stat-detail">To break ECDSA via Shor's algorithm</div></div>
      <div class="stat-card info"><div class="stat-value">6.26M</div><div class="stat-label">BTC in Vulnerable Addresses</div><div class="stat-detail">~$430B in P2PK format (incl. Satoshi's coins)</div></div>
      <div class="stat-card bull"><div class="stat-value">5-10yr</div><div class="stat-label">Upgrade Timeline Needed</div><div class="stat-detail">BIP 360 proposes ML-DSA quantum-resistant sigs</div></div>
    </div>
    <div class="chart-container reveal">
      <h3>Quantum Timeline: Expert Estimates</h3>
      <div class="chart-subtitle">When could quantum computers plausibly threaten Bitcoin? Expert opinions vary widely</div>
      <div class="chart-canvas-wrap"><canvas id="quantumChart"></canvas></div>
    </div>
    <div class="content-grid reveal">
      <div class="content-block">
        <h3><span class="risk-badge positive">Near-Term</span> 2026 to 2028: Mostly FUD</h3>
        <p>No quantum computer exists that can threaten Bitcoin today. The gap is orders of magnitude: ~1,500 noisy physical qubits vs. 2-3 million error-corrected needed. CoinShares calls it "smaller than people think." Benchmark Research: "long-dated and manageable."</p>
      </div>
      <div class="content-block">
        <h3><span class="risk-badge severe">Medium-Term</span> 2028 to 2035: Requires Prep</h3>
        <p>IBM targets 500 to 1,000 logical qubits by 2029. 1/3 of surveyed experts estimate 50%+ chance by 2030-2035. BIP 360 introduces NIST-standardized post-quantum ML-DSA signatures. Bitcoin's conservative governance means a 5 to 10 year upgrade timeline.</p>
      </div>
    </div>
    <div class="quote-block reveal" style="margin-top:24px">
      <p class="quote-text">"Bitcoin isn't under quantum threat yet, but upgrading it could take 5 to 10 years due to the conservative governance model."</p>
      <p class="quote-attribution">Adam Back</p>
      <p class="quote-role">CEO, Blockstream. Estimates 20 to 40 year timeline for practical quantum threat.</p>
    </div>
  </div>
</section>

<!-- CHAPTER 04: THE CYCLE FRAMEWORK -->
<div class="section-divider"></div>
<div class="chapter-intro">
  <span class="chapter-number">04</span>
  <p class="chapter-desc">Halving cycles, diminishing drawdowns, on-chain analytics, and the key bottoming indicators that signal when the pain ends.</p>
</div>

<!-- 8. HALVING CYCLE ANALYSIS -->
<section id="halving">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline orange">Cycle Framework</span>
      <h2 class="section-title">Halving Cycle Analysis</h2>
      <p class="section-desc">Four halving cycles. Diminishing returns. Is the pattern breaking, or just elongating?</p>
    </div>
    <div class="chart-container reveal">
      <h3>Post-Halving Price Trajectories (Normalized)</h3>
      <div class="chart-subtitle">% return from halving price over time, each cycle overlaid for comparison</div>
      <div class="chart-canvas-wrap"><canvas id="halvingChart"></canvas></div>
    </div>
    <div class="chart-container reveal">
      <h3>Historical Drawdowns Compared</h3>
      <div class="chart-subtitle">Each cycle's maximum drawdown has been progressively shallower</div>
      <div class="chart-canvas-wrap"><canvas id="drawdownChart"></canvas></div>
    </div>
    <div class="content-grid reveal">
      <div class="content-block">
        <h3>Diminishing Returns</h3>
        <p>Halving-to-peak gains: +9,483% (2012), +2,931% (2016), +712% (2020), +98% (2024). Each cycle delivers smaller percentage gains as market cap grows. Peak-to-peak gains: +1,613%, +250%, +83%.</p>
      </div>
      <div class="content-block">
        <h3>Why This Cycle Is Different</h3>
        <p>Spot ETFs launched pre-halving for the first time. Corporate treasuries kept steady buy pressure going. Price entered the halving at ATH territory. Institutional flows now dwarf halving supply shocks. ETFs absorbed 25 days of mining supply in single sessions.</p>
      </div>
    </div>

    <!-- Cycle Phase Progress Bar -->
    <div class="content-block reveal" style="margin-top:32px;padding:28px 32px">
      <h3 style="margin-bottom:6px">Cycle Phase Progress</h3>
      <p style="color:var(--text-secondary);font-size:0.9rem;margin-bottom:20px">Day 133 of an estimated ~370-day bear market, roughly 35% through the markdown phase</p>
      <div style="display:flex;width:100%;height:40px;border-radius:8px;overflow:hidden;font-family:var(--font-mono);font-size:0.72rem;font-weight:600;letter-spacing:0.3px">
        <div style="flex:15;background:rgba(16,185,129,0.25);color:var(--bullish);display:flex;align-items:center;justify-content:center;border-right:1px solid var(--bg-primary)" title="Apr-Sep 2024">ACCUMULATION</div>
        <div style="flex:20;background:rgba(245,158,11,0.25);color:var(--warning);display:flex;align-items:center;justify-content:center;border-right:1px solid var(--bg-primary)" title="Oct 2024 - Oct 2025">BULL RUN</div>
        <div style="flex:3;background:rgba(139,92,246,0.25);color:var(--purple);display:flex;align-items:center;justify-content:center;border-right:1px solid var(--bg-primary)" title="Oct 2025">DIST</div>
        <div style="flex:24;background:linear-gradient(90deg,rgba(239,68,68,0.4) 35%,rgba(239,68,68,0.12) 35%);color:var(--bearish);display:flex;align-items:center;justify-content:center;border-right:1px solid var(--bg-primary);position:relative" title="Oct 2025 - Present (Day 133 of ~370)">BEAR MARKET<span style="position:absolute;top:-18px;left:35%;transform:translateX(-50%);font-size:0.65rem;color:var(--text-primary);white-space:nowrap;background:var(--bg-card);padding:2px 6px;border-radius:4px;border:1px solid var(--bearish)">YOU ARE HERE</span></div>
        <div style="flex:6;background:rgba(59,130,246,0.12);color:var(--accent-secondary);display:flex;align-items:center;justify-content:center;border-right:1px solid var(--bg-primary);opacity:0.5" title="~Q3-Q4 2026">CAPIT.</div>
        <div style="flex:15;background:rgba(16,185,129,0.08);color:var(--bullish);display:flex;align-items:center;justify-content:center;opacity:0.4" title="Q4 2026 - 2027">RE-ACCUM</div>
      </div>
      <div style="display:flex;justify-content:space-between;margin-top:10px;font-size:0.75rem;color:var(--text-muted)">
        <span>Apr 2024 Halving</span>
        <span>Oct 2025 Peak</span>
        <span>~Oct 2026 Projected Bottom</span>
        <span>~Apr 2028 Next Halving</span>
      </div>
    </div>
  </div>
</section>

<!-- 8b. DIMINISHING DRAWDOWNS (Benjamin Cowen Framework) -->
<section id="drawdowns" class="bg-bear">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">Benjamin Cowen Framework</span>
      <h2 class="section-title">The Diminishing Drawdowns Thesis</h2>
      <p class="section-desc">Every Bitcoin bear market has been shallower than the last. The data suggests this cycle's maximum drawdown will be roughly 70%, implying a bottom near $37,860.</p>
    </div>

    <!-- Key Stats Row -->
    <div class="stat-grid reveal">
      <div class="stat-card bear"><div class="stat-value">-93%</div><div class="stat-label">Cycle 1 Drawdown (2011)</div><div class="stat-detail">$31.91 to $2.01. Early Bitcoin, thin liquidity</div></div>
      <div class="stat-card bear"><div class="stat-value">-86%</div><div class="stat-label">Cycle 2 Drawdown (2013-2015)</div><div class="stat-detail">$1,163 to $152. Mt. Gox collapse era</div></div>
      <div class="stat-card bear"><div class="stat-value">-84%</div><div class="stat-label">Cycle 3 Drawdown (2017-2018)</div><div class="stat-detail">$19,783 to $3,122. ICO bubble burst</div></div>
      <div class="stat-card warn"><div class="stat-value">-77%</div><div class="stat-label">Cycle 4 Drawdown (2021-2022)</div><div class="stat-detail">$69,044 to $15,476. FTX/Luna/3AC</div></div>
      <div class="stat-card info"><div class="stat-value">-52%</div><div class="stat-label">Cycle 5 Current (2025-2026)</div><div class="stat-detail">$126,198 to $60,062. Still in progress</div></div>
      <div class="stat-card" style="border-color:rgba(139,92,246,0.3)"><div class="stat-value" style="color:var(--purple)">~-70%</div><div class="stat-label">Projected Cycle 5 Maximum</div><div class="stat-detail">Cowen model projects bottom near $37,860</div></div>
    </div>

    <!-- Chart 1: Diminishing Drawdown Trend -->
    <div class="chart-container reveal">
      <h3>Diminishing Drawdowns Across Cycles</h3>
      <div class="chart-subtitle">Each bear market has been progressively shallower. The mathematical trend projects ~70% for this cycle.</div>
      <div class="chart-canvas-wrap" style="height:480px"><canvas id="diminishingDrawdownChart"></canvas></div>
    </div>

    <!-- Chart 2: Drawdown Trajectory Overlay -->
    <div class="chart-container reveal">
      <h3>Drawdown Trajectory: Day-by-Day Comparison</h3>
      <div class="chart-subtitle">How the current cycle's drawdown path compares to previous cycles. Currently -52% vs. historical averages of -60% to -70% at this point.</div>
      <div class="chart-canvas-wrap" style="height:480px"><canvas id="drawdownTrajectoryChart"></canvas></div>
    </div>

    <!-- Chart 3: Logarithmic Regression Bands -->
    <div class="chart-container reveal">
      <h3>Logarithmic Regression Bands</h3>
      <div class="chart-subtitle">Benjamin Cowen's standard deviation bands. Current price ($69K) sits in the "Undervalued" zone at -0.5 SD.</div>
      <div class="chart-canvas-wrap" style="height:480px"><canvas id="logRegressionChart"></canvas></div>
    </div>

    <!-- Analysis Content -->
    <div class="content-grid reveal">
      <div class="content-block">
        <h3>The Pattern Is Mathematical</h3>
        <p>Across five cycles, Bitcoin's maximum drawdowns follow a clear logarithmic decay: -93%, -86%, -84%, -77%, and a projected -70%. As liquidity deepens, institutional presence grows, and market cap expands each cycle, bear markets get shallower. Fitting a trendline to the first four data points projects roughly -70% for cycle 5.</p>
      </div>
      <div class="content-block">
        <h3>What 70% Means in Dollar Terms</h3>
        <p>From the $126,198 ATH, a 70% drawdown implies a cycle bottom near <strong style="color:var(--bearish)">$37,860</strong>. This is $30,000 below the current price of $68,605, suggesting the current -52% drawdown may be only two-thirds complete. Cowen's timing analysis suggests bottoms tend to cluster in Q3-Q4, pointing to an October 2026 low as the most likely scenario.</p>
      </div>
    </div>

    <div class="content-grid reveal" style="margin-top:24px">
      <div class="content-block">
        <h3>Where We Are Now: -52% of a Projected -70%</h3>
        <p>The current -52% drawdown from ATH puts us at roughly 74% of the way to the projected -70% maximum, if the pattern holds. At comparable timeframes (day 133 from peak), the 2013 cycle was at -62%, the 2017 cycle at -65%, and the 2021 cycle at -48%. The current path is tracking between the 2021 and historical average paths.</p>
      </div>
      <div class="content-block">
        <h3>October 2026: The Projected Bottom</h3>
        <p>Bear market durations have averaged 350 to 410 days from peak to bottom. Starting from the Oct 6, 2025 peak, that points to a bottom window of September to December 2026. Cowen specifically flags an October low as fitting the cycle bottom clustering pattern. At day 133, we are roughly 35% through the expected bear market duration.</p>
      </div>
    </div>

    <div class="quote-block bearish reveal" style="margin-top:32px">
      <p class="quote-text">"Diminishing returns and slower cycles are defining this era. Each cycle delivers progressively smaller percentage gains and progressively shallower drawdowns as Bitcoin matures."</p>
      <p class="quote-attribution">Benjamin Cowen</p>
      <p class="quote-role">Into the Cryptoverse. Core thesis on Bitcoin's maturation as an asset class.</p>
    </div>
  </div>
</section>

<!-- 9. ON-CHAIN ANALYTICS -->
<section id="onchain" class="bg-secondary">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline neutral">On-Chain Signals</span>
      <h2 class="section-title">On-Chain Analytics</h2>
      <p class="section-desc">What the blockchain data says about market positioning, sentiment, and historical cycle alignment.</p>
    </div>
    <div class="stat-grid reveal">
      <div class="stat-card info"><div class="stat-value">1.32</div><div class="stat-label">MVRV Z-Score</div><div class="stat-detail">Fair value zone. Overheated >7, bottom &lt;0</div></div>
      <div class="stat-card warn"><div class="stat-value">55%</div><div class="stat-label">Supply in Profit</div><div class="stat-detail">45% in loss, approaching convergence (bottom signal)</div></div>
      <div class="stat-card info"><div class="stat-value">Anxiety</div><div class="stat-label">NUPL Phase</div><div class="stat-detail">Fell from Euphoria (Oct) to Anxiety (Feb)</div></div>
      <div class="stat-card bull"><div class="stat-value">Active</div><div class="stat-label">Hash Ribbons Signal</div><div class="stat-detail">Capitulation signal, historically a bullish contrarian indicator</div></div>
    </div>
    <div class="chart-container reveal">
      <h3>MVRV Z-Score: Historical Peaks & Bottoms</h3>
      <div class="chart-subtitle">Current 1.32 is far from overheated (>7) and far from bottom (&lt;0)</div>
      <div class="chart-canvas-wrap"><canvas id="mvrvChart"></canvas></div>
    </div>
    <div class="chart-container reveal">
      <h3>Supply in Profit vs Loss</h3>
      <div class="chart-subtitle">Convergence toward 50/50 has historically signaled major cycle bottoms</div>
      <div class="chart-canvas-wrap"><canvas id="supplyChart"></canvas></div>
    </div>
    <div class="chart-container reveal" style="margin-top:40px">
      <h3>Fair Value Models vs Current Price</h3>
      <div class="chart-subtitle">Five valuation frameworks all signal undervaluation. Power Law shows the widest negative deviation in model history.</div>
      <div class="chart-canvas-wrap" style="height:380px"><canvas id="fairValueChart"></canvas></div>
    </div>
  </div>
</section>

<!-- 9c. NETWORK HEALTH METRICS -->
<section id="network-health">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline neutral">Network Signals</span>
      <h2 class="section-title">Network Health Metrics</h2>
      <p class="section-desc">Additional on-chain indicators tracking Bitcoin's network fundamentals and market positioning.</p>
    </div>
    <div class="stat-grid reveal">
      <div class="stat-card info"><div class="stat-value">~45</div><div class="stat-label">NVT Ratio</div><div class="stat-detail">Below 30 historically signals undervaluation</div></div>
      <div class="stat-card bull"><div class="stat-value">2.4-2.8M</div><div class="stat-label">Exchange Reserves (BTC)</div><div class="stat-detail">Lowest since 2018, declining steadily per Glassnode data</div></div>
      <div class="stat-card bull"><div class="stat-value">0.30</div><div class="stat-label">Risk Metric (Cowen)</div><div class="stat-detail">Buy zone below 0.3, sell zone above 0.7. At the threshold.</div></div>
    </div>
    <div class="chart-container reveal">
      <h3>NVT Ratio: Network Value to Transactions</h3>
      <div class="chart-subtitle">When NVT drops below 30, Bitcoin has historically been undervalued relative to its on-chain transaction volume</div>
      <div class="chart-canvas-wrap"><canvas id="nvtChart"></canvas></div>
    </div>
    <div class="chart-container reveal">
      <h3>Exchange Reserves Trend</h3>
      <div class="chart-subtitle">Declining exchange balances signal accumulation. Reserves at lowest level since early 2018.</div>
      <div class="chart-canvas-wrap"><canvas id="reservesChart"></canvas></div>
    </div>
    <div class="chart-container reveal">
      <h3>Bitcoin Risk Metric (Benjamin Cowen Framework)</h3>
      <div class="chart-subtitle">Composite indicator: 0 = maximum buy opportunity, 1 = maximum sell signal. Currently at 0.30, right at the buy-zone boundary.</div>
      <div class="chart-canvas-wrap"><canvas id="riskMetricChart"></canvas></div>
    </div>
    <div class="content-grid reveal">
      <div class="content-block">
        <h3>What the Network Says</h3>
        <p>Three independent network health metrics converge on the same conclusion: Bitcoin is undervalued relative to its on-chain fundamentals. The NVT ratio at 45 is elevated but falling toward the historically significant sub-30 zone. According to Glassnode data, exchange reserves sit at 2.4M to 2.8M BTC, the lowest since 2018, as long-term holders controlling 65-70% of circulating supply continue withdrawing coins. Benjamin Cowen's composite risk metric reads 0.30, right at the buy-zone boundary that has preceded every major bull run in prior cycles.</p>
      </div>
      <div class="content-block">
        <h3>The Supply Squeeze Builds</h3>
        <p>With daily issuance at just 450 BTC post-halving and exchange reserves declining steadily, the supply dynamics are tightening. BlackRock's IBIT alone holds 786,300 BTC ($54.12B AUM), and the total spot ETF market exceeds $123B. Long-term holders now control 65-70% of circulating supply and have returned to net accumulation per Glassnode data. If demand pressure resumes, this structural supply deficit should amplify any price recovery.</p>
      </div>
    </div>
  </div>
</section>

<!-- 9b. BOTTOMING INDICATORS DASHBOARD -->
<section id="bottoming">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline" style="color:var(--bullish)">Cycle Analysis</span>
      <h2 class="section-title">Are We at the Bottom Yet?</h2>
      <p class="section-desc">Ten key bottoming indicators tracked across every Bitcoin bear market. Currently 5 of 10 triggered. Historically, 70-80% trigger rate marks the definitive bottom.</p>
    </div>

    <div class="stat-grid reveal">
      <div class="stat-card bull"><div class="stat-value">5/10</div><div class="stat-label">Indicators Triggered</div><div class="stat-detail">Bottoming process underway but not definitive</div></div>
      <div class="stat-card warn"><div class="stat-value">4/10</div><div class="stat-label">Approaching Threshold</div><div class="stat-detail">Close to triggering. Watch for confirmation.</div></div>
      <div class="stat-card bear"><div class="stat-value">1/10</div><div class="stat-label">Not Yet Triggered</div><div class="stat-detail">Pi Cycle Bottom signal still absent</div></div>
    </div>

    <!-- Bottoming Indicators Heatmap Table -->
    <div class="chart-container reveal" style="overflow-x:auto">
      <h3>Bottoming Indicators Dashboard</h3>
      <div class="chart-subtitle">Traffic-light status for each indicator. Green = triggered, amber = approaching, red = not triggered.</div>
      <table style="width:100%;border-collapse:separate;border-spacing:0 4px;margin-top:16px;font-size:0.88rem">
        <thead>
          <tr style="text-align:left;color:var(--text-secondary);font-size:0.78rem;font-weight:600;letter-spacing:0.5px;text-transform:uppercase">
            <th style="padding:8px 14px">Indicator</th>
            <th style="padding:8px 14px">Current Value</th>
            <th style="padding:8px 14px">Bottom Threshold</th>
            <th style="padding:8px 14px">Signal</th>
            <th style="padding:8px 14px">Precedent</th>
          </tr>
        </thead>
        <tbody>
          <tr style="background:rgba(16,185,129,0.08);border-radius:8px">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">2-Year MA Multiplier</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">Price &lt; 2Y MA</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">Price below 2-Year MA</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(16,185,129,0.2);color:var(--bullish);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">TRIGGERED</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Triggered at every cycle bottom</td>
          </tr>
          <tr style="background:rgba(16,185,129,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">Mayer Multiple</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">~0.72</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">&lt; 0.8</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(16,185,129,0.2);color:var(--bullish);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">TRIGGERED</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Below 0.8 = deep accumulation zone</td>
          </tr>
          <tr style="background:rgba(16,185,129,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">Reserve Risk</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">~0.0015</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">&lt; 0.0027</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(16,185,129,0.2);color:var(--bullish);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">TRIGGERED</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Favorable risk/reward zone for long-term holders</td>
          </tr>
          <tr style="background:rgba(16,185,129,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">Hash Ribbons</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">Capitulation</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">30D MA &lt; 60D MA</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(16,185,129,0.2);color:var(--bullish);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">TRIGGERED</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Miner capitulation confirmed, historically bullish</td>
          </tr>
          <tr style="background:rgba(16,185,129,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">Fear &amp; Greed Index</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">8-10</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">&lt; 10 (Extreme Fear)</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(16,185,129,0.2);color:var(--bullish);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">TRIGGERED</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">F&amp;G &lt; 10 preceded 150 to 1,400% rallies every time</td>
          </tr>
          <tr style="background:rgba(245,158,11,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">MVRV Z-Score</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">0.47</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">&lt; 0.0 (green zone)</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(245,158,11,0.2);color:var(--warning);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">APPROACHING</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Needs to go negative for definitive bottom</td>
          </tr>
          <tr style="background:rgba(245,158,11,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">200-Week MA</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">~$58,000</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">Price touches/pierces</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(245,158,11,0.2);color:var(--warning);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">APPROACHING</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Price at $69K, still $11K above</td>
          </tr>
          <tr style="background:rgba(245,158,11,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">Puell Multiple</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">~0.55</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">&lt; 0.5 (green zone)</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(245,158,11,0.2);color:var(--warning);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">APPROACHING</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Near green zone threshold</td>
          </tr>
          <tr style="background:rgba(245,158,11,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">NUPL</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">~0.18</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">&lt; 0 (capitulation)</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(245,158,11,0.2);color:var(--warning);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">APPROACHING</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">Not in capitulation yet. Still in anxiety phase.</td>
          </tr>
          <tr style="background:rgba(239,68,68,0.08)">
            <td style="padding:10px 14px;border-radius:8px 0 0 8px;font-weight:600;color:var(--text-primary)">Pi Cycle Bottom</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem">No crossover</td>
            <td style="padding:10px 14px;font-family:var(--font-mono);font-size:0.82rem;color:var(--text-secondary)">150 EMA / 471 SMA cross</td>
            <td style="padding:10px 14px;border-radius:0 8px 8px 0"><span style="background:rgba(239,68,68,0.2);color:var(--bearish);padding:3px 10px;border-radius:20px;font-size:0.78rem;font-weight:600">NOT TRIGGERED</span></td>
            <td style="padding:10px 14px;color:var(--text-secondary);font-size:0.82rem">No crossover detected yet</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Bottoming Indicators Visual Chart -->
    <div class="chart-container reveal">
      <h3>Bottoming Indicator Readiness</h3>
      <div class="chart-subtitle">How close each indicator is to its bottom threshold. 100% = fully triggered.</div>
      <div class="chart-canvas-wrap" style="height:420px"><canvas id="bottomingChart"></canvas></div>
    </div>

    <div class="content-grid reveal">
      <div class="content-block">
        <h3>What 50% Triggered Means</h3>
        <p>In past cycles, the definitive bottom lined up with 70-80% of these indicators triggering at once. At 50%, we are in the <em>bottoming process</em> but probably have not hit the final low. The four approaching indicators (MVRV, 200W MA, Puell, NUPL) would need roughly 15-25% more downside to trigger.</p>
      </div>
      <div class="content-block">
        <h3>The Missing Signal: Pi Cycle</h3>
        <p>The Pi Cycle Bottom indicator (150-day EMA crossing the 471-day SMA &times; 0.475) has called every prior cycle bottom accurately. Its absence is the strongest sign that the absolute bottom has not yet arrived. This crossover remains the single most reliable bottom confirmation signal to watch.</p>
      </div>
    </div>
  </div>
</section>

<!-- CHAPTER 05: THE PERSPECTIVES -->
<div class="section-divider"></div>
<div class="chapter-intro">
  <span class="chapter-number">05</span>
  <p class="chapter-desc">What the insiders, institutions, and analysts predict, including the contrarian bull case for why this might be the buy of the decade.</p>
</div>

<!-- 10. INDUSTRY VOICES -->
<section id="voices">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline orange">Industry Voices</span>
      <h2 class="section-title">What the Insiders Are Saying</h2>
      <p class="section-desc">From Michael Saylor's unwavering bullishness to Peter Schiff's 21st death call. The debate has never been more polarized.</p>
    </div>
    <h3 style="font-family:var(--font-display);color:var(--bullish);margin-bottom:20px;font-size:1.1rem" class="reveal">The Bulls</h3>
    <div class="quotes-grid reveal">
      <div class="quote-block bullish">
        <p class="quote-text">"We won't be selling bitcoin, we'll be buying every quarter forever."</p>
        <p class="quote-attribution">Michael Saylor</p>
        <p class="quote-role">Executive Chairman, Strategy &middot; Holds 714,644 BTC &middot; Target: $143K to $170K</p>
      </div>
      <div class="quote-block bullish">
        <p class="quote-text">"Bitcoin is an asset of fear. You own it because you're frightened of your financial security."</p>
        <p class="quote-attribution">Larry Fink</p>
        <p class="quote-role">CEO, BlackRock &middot; IBIT is largest spot BTC ETF &middot; $700K long-term scenario</p>
      </div>
      <div class="quote-block bullish">
        <p class="quote-text">"Bitcoin is the ultimate diversifier... its correlation to traditional asset classes remains near zero."</p>
        <p class="quote-attribution">Cathie Wood</p>
        <p class="quote-role">CEO, ARK Invest &middot; $1.2M by 2030 (bull case)</p>
      </div>
      <div class="quote-block bullish">
        <p class="quote-text">"Bitcoin is gold 2.0... there is easily a 10x from here."</p>
        <p class="quote-attribution">Tyler Winklevoss</p>
        <p class="quote-role">Co-founder, Gemini &middot; $1M long-term target</p>
      </div>
    </div>
    <h3 style="font-family:var(--font-display);color:var(--bearish);margin:40px 0 20px" class="reveal">The Bears</h3>
    <div class="quotes-grid reveal">
      <div class="quote-block bearish">
        <p class="quote-text">"I am convinced the industry is on the verge of a full-blown apocalypse."</p>
        <p class="quote-attribution">Nouriel Roubini</p>
        <p class="quote-role">"Dr. Doom," NYU Stern &middot; Project Syndicate, February 2026</p>
      </div>
      <div class="quote-block bearish">
        <p class="quote-text">"Now if you told me you own all of the Bitcoin in the world and offered it to me for $25, I wouldn't take it."</p>
        <p class="quote-attribution">Warren Buffett</p>
        <p class="quote-role">Chairman, Berkshire Hathaway &middot; "Rat poison squared"</p>
      </div>
      <div class="quote-block bearish">
        <p class="quote-text">"I'm a major skeptic on crypto tokens which you call currency, like Bitcoin. They are decentralized Ponzi schemes."</p>
        <p class="quote-attribution">Jamie Dimon</p>
        <p class="quote-role">CEO, JPMorgan Chase &middot; Yet JPMorgan now lets clients buy BTC</p>
      </div>
      <div class="quote-block bearish">
        <p class="quote-text">"Bitcoin's price is set to fall another 90% to $10,000 in 2026."</p>
        <p class="quote-attribution">Mike McGlone</p>
        <p class="quote-role">Senior Commodity Strategist, Bloomberg Intelligence</p>
      </div>
    </div>
  </div>
</section>


<!-- 10c. INSTITUTIONAL ANALYSIS -->
<section id="institutional" class="bg-glow-blue">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline" style="color:var(--accent-secondary)">Wall Street</span>
      <h2 class="section-title">What the Institutions Think</h2>
      <p class="section-desc">12 major financial institutions, from BlackRock to Citigroup. Consensus year-end target: $143K to $150K. Most see a buying opportunity.</p>
    </div>
    <div class="stat-grid reveal">
      <div class="stat-card bull"><div class="stat-value">$143K-$150K</div><div class="stat-label">Median Institutional Target</div><div class="stat-detail">Year-end 2026 consensus across 12 firms</div></div>
      <div class="stat-card info"><div class="stat-value">8 of 12</div><div class="stat-label">Bullish or Constructive</div><div class="stat-detail">Only Standard Chartered warns of $50K test</div></div>
      <div class="stat-card warn"><div class="stat-value">0.2%</div><div class="stat-label">IBIT Redemption Rate</div><div class="stat-detail">During worst crash week. Core holders did not sell.</div></div>
      <div class="stat-card info"><div class="stat-value">$123B+</div><div class="stat-label">Total Spot BTC ETF AUM</div><div class="stat-detail">Led by BlackRock IBIT at $54.12B (786,300 BTC)</div></div>
    </div>
    <div class="chart-container reveal">
      <h3>Institutional Year-End 2026 Price Targets</h3>
      <div class="chart-subtitle">Sorted by target. Current price $68,605 shown as reference. Range spans $78.5K to $200K.</div>
      <div class="chart-canvas-wrap" style="height:420px"><canvas id="institutionalTargets"></canvas></div>
    </div>
    <div class="chart-container reveal" style="margin-top:32px">
      <h3>Institutional Stance Spectrum</h3>
      <div class="chart-subtitle">From ultra-bullish ARK Invest to cautious Standard Chartered. Color-coded by conviction level.</div>
      <div class="chart-canvas-wrap" style="height:360px"><canvas id="stanceChart"></canvas></div>
    </div>
    <div class="content-grid reveal" style="margin-top:32px">
      <div class="content-block">
        <h3>The Bull Consensus</h3>
        <p>Bernstein calls this the "weakest bear case in history," noting that past bear markets averaged 80% drawdowns compared to 52% this cycle. JPMorgan turned bullish, citing a $77K production cost floor and Bitcoin-to-gold volatility at record lows. Goldman Sachs sees $200K if the Clarity Act passes. Grayscale expects a new ATH in H1 2026, driven by institutional infrastructure that breaks the four-year cycle pattern.</p>
      </div>
      <div class="content-block">
        <h3>The Lone Dissent</h3>
        <p>Standard Chartered cut its year-end target from $150K to $100K and warns BTC could slide to $50K first. Their logic: ETF investors sitting on losses are more likely to sell than buy the dip. Deutsche Bank flags declining retail adoption (17% down to 12%) and notes the CLARITY Act stalling in Congress removes a key catalyst. BlackRock warns that Bitcoin trading like "levered Nasdaq" raises the bar for institutional adoption.</p>
      </div>
    </div>
    <div class="quote-block bullish reveal" style="margin-top:32px">
      <p class="quote-text">"On a week that was tumultuous... we had 0.2% of the fund redeem."</p>
      <p class="quote-attribution">Robert Mitchnick</p>
      <p class="quote-role">Head of Digital Assets, BlackRock. Feb 2026. Core ETF holders held firm through the crash.</p>
    </div>
  </div>
</section>

<!-- 12. PRICE PREDICTIONS -->
<section id="predictions">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline orange">Price Targets</span>
      <h2 class="section-title">What the Analysts Predict</h2>
      <p class="section-desc">From McGlone's $10K to Draper's $250K, the forecast range spans 25x. Median consensus: $150K to $170K.</p>
    </div>
    <div class="chart-container reveal">
      <h3>2026 Analyst Price Targets</h3>
      <div class="chart-subtitle">Current price $68,605 shown as reference line &middot; Sorted by target</div>
      <div class="chart-canvas-wrap"><canvas id="predictionsChart"></canvas></div>
    </div>
    <div class="quote-block reveal" style="margin-top:24px">
      <p class="quote-text">"The first half of 2026 may be tough, but that volatility is exactly what sets the stage for the massive rally we expect in the back half."</p>
      <p class="quote-attribution">Tom Lee</p>
      <p class="quote-role">Co-founder, Fundstrat Global Advisors &middot; Target: $200K to $250K &middot; "Year of two halves"</p>
    </div>
  </div>
</section>

<!-- 13. THE BULL CASE -->
<section id="bull" class="bg-bull">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bull">Contrarian View</span>
      <h2 class="section-title" style="color:var(--bullish)">The Bull Case: Why This Might Be the Buy</h2>
      <p class="section-desc">Whales are accumulating at historic pace. No systemic failures. Is the smart money right?</p>
    </div>
    <div class="stat-grid reveal">
      <div class="stat-card bull"><div class="stat-value">66,940</div><div class="stat-label">BTC Bought by Whales (Feb 6)</div><div class="stat-detail">Largest single-day whale accumulation since 2022</div></div>
      <div class="stat-card bull"><div class="stat-value">0</div><div class="stat-label">Systemic Failures</div><div class="stat-detail">No exchange/protocol collapses (unlike 2018, 2022)</div></div>
      <div class="stat-card bull"><div class="stat-value">1,303</div><div class="stat-label">Entities Holding 1,000+ BTC</div><div class="stat-detail">Up from 1,207 in Oct. Large players adding.</div></div>
      <div class="stat-card bull"><div class="stat-value">$150K</div><div class="stat-label">Consensus Bull Target</div><div class="stat-detail">Bernstein, Standard Chartered, Epoch Ventures</div></div>
    </div>
    <div class="chart-container reveal">
      <h3>Bear vs Bull Factor Analysis</h3>
      <div class="chart-subtitle">Comparing the weight of bearish pressures against bullish structural factors</div>
      <div class="chart-canvas-wrap"><canvas id="radarChart"></canvas></div>
    </div>
    <div class="content-grid reveal">
      <div class="content-block" style="border-color:rgba(16,185,129,0.2)">
        <h3><span class="risk-badge positive">Key</span> Historical Parallels</h3>
        <p>Every prior drawdown below 50% preceded a rally exceeding the previous ATH. 2014: $152 to $19,800. 2018: $3,122 to $69K. 2022: $15,500 to $126K. Average recovery year after bottom: +95%. Every F&G below 10 preceded rallies of 150% to 1,400%.</p>
      </div>
      <div class="content-block" style="border-color:rgba(16,185,129,0.2)">
        <h3><span class="risk-badge positive">Key</span> Supply Squeeze Thesis</h3>
        <p>Exchange reserves at lowest since 2018. ETFs, 61 corporate treasuries (848,100 BTC), Strategic Reserve (~198K BTC), and long-term holders lock up supply. Daily issuance: only 450 BTC/day. Free float historically thin.</p>
      </div>
    </div>
    <div class="quote-block bullish reveal" style="margin-top:32px">
      <p class="quote-text">"We're hearing rumors that major U.S. banks will start to buy Bitcoin, custody Bitcoin, and issue credit against the native Bitcoin asset in the first half of 2026."</p>
      <p class="quote-attribution">Michael Saylor</p>
      <p class="quote-role">Executive Chairman, Strategy &middot; CNBC, February 2026</p>
    </div>
    <div class="chart-container reveal" style="margin-top:32px;overflow-x:auto">
      <h3>Bear Thesis vs Bull Counter-Argument</h3>
      <div class="chart-subtitle">The debate, point by point</div>
      <table class="data-table">
        <thead><tr><th>Factor</th><th>Bear Thesis</th><th>Bull Counter</th></tr></thead>
        <tbody>
          <tr><td>Market Structure</td><td class="bear-col">Bear market like 2018/2022</td><td class="bull-col">No systemic failures. Infrastructure intact.</td></tr>
          <tr><td>Institutions</td><td class="bear-col">ETF outflows, leaving</td><td class="bull-col">$1.42B inflow burst in early Feb. 401(k) coming.</td></tr>
          <tr><td>Fed Policy</td><td class="bear-col">Warsh = tighter for longer</td><td class="bull-col">Markets price 2+ cuts by year-end. QT ended.</td></tr>
          <tr><td>Leverage</td><td class="bear-col">Cascade risk persists</td><td class="bull-col">Massive deleveraging = healthier foundation.</td></tr>
          <tr><td>Sentiment</td><td class="bear-col">Fear justified</td><td class="bull-col">F&G at 5 preceded 150% to 1,400% rallies every time.</td></tr>
          <tr><td>Supply</td><td class="bear-col">Demand drying up</td><td class="bull-col">Supply drying up faster. Exchange reserves at 2018 lows.</td></tr>
          <tr><td>Drawdown</td><td class="bear-col">Could reach -78%</td><td class="bull-col">Each cycle shallower: -86%, -84%, -78%, -52%.</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- CHAPTER 06: THE ASSESSMENT -->
<div class="section-divider"></div>
<div class="chapter-intro">
  <span class="chapter-number">06</span>
  <p class="chapter-desc">The final risk assessment and verdict: weighing all evidence to determine the most likely path forward for Bitcoin.</p>
</div>

<!-- 11. RISK MATRIX -->
<section id="risk" class="bg-secondary">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline bear">Risk Assessment</span>
      <h2 class="section-title">Risk Matrix</h2>
      <p class="section-desc">Nine risk categories assessed by severity and probability. Nasdaq correlation and leverage risk dominate.</p>
    </div>
    <div class="chart-container reveal">
      <h3>Risk Factor Analysis</h3>
      <div class="chart-subtitle">Severity (impact if realized) vs Probability (likelihood) on radar overlay</div>
      <div class="chart-canvas-wrap"><canvas id="riskRadar"></canvas></div>
    </div>
    <div class="chart-container reveal" style="overflow-x:auto">
      <h3>Detailed Risk Breakdown</h3>
      <div class="chart-subtitle">Rated 1-10 on severity and probability</div>
      <table class="data-table">
        <thead><tr><th>Risk Factor</th><th>Severity</th><th>Probability</th><th>Score</th><th>Status</th></tr></thead>
        <tbody>
          <tr><td>Nasdaq Correlation</td><td class="bear-col">8/10</td><td class="bear-col">7/10</td><td class="bear-col">56</td><td>BTC-Nasdaq correlation at 0.80</td></tr>
          <tr><td>Leverage/Derivatives</td><td class="bear-col">8/10</td><td class="bear-col">7/10</td><td class="bear-col">56</td><td>$2.2B single-day liquidation event</td></tr>
          <tr><td>Quantum Computing</td><td class="bear-col">8/10</td><td style="color:var(--bullish)">1/10</td><td>8</td><td>Existential severity, decade+ away</td></tr>
          <tr><td>Stablecoin Systemic</td><td class="bear-col">7/10</td><td>4/10</td><td>28</td><td>S&P downgraded Tether "weak"</td></tr>
          <tr><td>Geopolitical</td><td class="bear-col">7/10</td><td>6/10</td><td>42</td><td>Tariff wars, trade disruption</td></tr>
          <tr><td>Whale Concentration</td><td>6/10</td><td>5/10</td><td>30</td><td>Mega whales accumulated 149K BTC</td></tr>
          <tr><td>Exchange Counterparty</td><td>6/10</td><td>3/10</td><td>18</td><td>Post-FTX reforms but risk persists</td></tr>
          <tr><td>Environmental/ESG</td><td>4/10</td><td>5/10</td><td>20</td><td>176 TWh/yr, 52% sustainable</td></tr>
          <tr><td style="color:var(--bullish)">Regulatory</td><td style="color:var(--bullish)">4/10</td><td style="color:var(--bullish)">3/10</td><td style="color:var(--bullish)">12</td><td>Most improved: GENIUS Act, pro-crypto SEC</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- 14. VERDICT & SCENARIOS -->
<section id="verdict" class="bg-verdict">
  <div class="container">
    <div class="section-header reveal">
      <span class="section-overline verdict">Verdict & Outlook</span>
      <h2 class="section-title" style="color:var(--purple)">Our Assessment</h2>
      <p class="section-desc">Weighing the evidence across macro, market structure, on-chain, and contrarian signals.</p>
    </div>
    <div class="verdict-box reveal">
      <h3>Correction, Not Collapse. But the Path Forward Is Narrow.</h3>
      <p>The evidence points to a severe mid-cycle correction, not a structural bear market. The key difference: in 2018 and 2022, systemic failures destroyed infrastructure. In 2026, the plumbing is intact. ETFs still hold $113.8B. Corporate treasuries are growing. Regulatory clarity is the best it has ever been.</p>
      <p>But the macro headwinds are real. The Warsh nomination, persistent above-target inflation, tariff escalation, and dollar strength all work against zero-yield risk assets. Gold's +24% divergence from BTC's -52% is the clearest sign that institutional capital still does not treat Bitcoin as a safe haven.</p>
      <p>It comes down to monetary policy. If the Fed delivers rate cuts in H2 2026 and the dollar softens, tight supply plus institutional infrastructure set up a strong recovery. If inflation re-accelerates and Warsh pushes tighter policy, the floor could be lower than $60K.</p>
      <p style="font-weight:600;color:var(--text-primary)">The $60,000 to $65,000 zone is the critical structural floor. Below it, the 2021 cycle high of $69K is broken and the picture shifts from "correction" to "bear market." Above $72K, recovery scenarios remain viable.</p>
      <div class="outlook-grid">
        <div class="outlook-card bear-card">
          <div class="scenario">Bear Case</div>
          <div class="probability">25%</div>
          <div class="range">$38K - $55K</div>
          <p style="font-size:0.8rem;color:var(--text-muted);margin-top:8px">Inflation re-accelerates, Warsh confirmed, tariffs, break below $60K</p>
        </div>
        <div class="outlook-card base-card">
          <div class="scenario">Base Case</div>
          <div class="probability">50%</div>
          <div class="range">$65K - $95K</div>
          <p style="font-size:0.8rem;color:var(--text-muted);margin-top:8px">Sideways until summer. Gradual recovery. 1-2 Fed cuts.</p>
        </div>
        <div class="outlook-card bull-card">
          <div class="scenario">Bull Case</div>
          <div class="probability">25%</div>
          <div class="range">$120K - $170K</div>
          <p style="font-size:0.8rem;color:var(--text-muted);margin-top:8px">Aggressive easing, dollar weakness, institutional inflow wave</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 15. FOOTER -->
<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <h4>Methodology</h4>
        <p>This analysis draws from 30+ sources including CNBC, CoinDesk, VanEck, Bloomberg, CoinGlass, CryptoQuant, Glassnode, the Federal Reserve, JPMorgan, Goldman Sachs, BlackRock, and the White House. Price data cross-referenced across multiple providers. On-chain metrics from Glassnode and Bitcoin Magazine Pro. Insider quotes verified against original sources. This is research, not financial advice.</p>
      </div>
      <div>
        <h4>Key Sources</h4>
        <p>CoinDesk Markets<br>VanEck Digital Assets<br>Federal Reserve FOMC<br>CoinGlass Liquidation Data<br>Bernstein Research<br>Glassnode On-Chain<br>JPMorgan Research<br>ARK Invest Big Ideas 2026</p>
      </div>
      <div>
        <h4>Data Snapshot</h4>
        <p>Prices as of Feb 16, 2026<br>BTC: ~$68,605<br>ETH: ~$2,000<br>Gold: ~$4,900<br>Total Crypto MCap: ~$2.2T<br>F&G Index: 12 (Extreme Fear)<br>DXY: 97.6<br>BTC-Nasdaq Corr: 0.80</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>Bitcoin 2026 Decline Analysis v2 &middot; Research compiled February 16, 2026</p>
      <p>Not financial advice. For educational and research purposes only.</p>
    </div>
  </div>
</footer>

<script>
// ============================================================
// BITCOIN 2026 ANALYSIS - PROFESSIONAL CHART ENGINE
// Bloomberg Terminal / Apple Finance Quality
// Libraries: Chart.js 4.4.7, ApexCharts, TradingView Lightweight Charts
// ============================================================

// ==================== CHART.JS GLOBAL DEFAULTS ====================
Chart.defaults.color = '#7a7a96';
Chart.defaults.borderColor = 'rgba(26,26,40,0.4)';
Chart.defaults.font.family = "'Inter', sans-serif";
Chart.defaults.font.size = 12;
Chart.defaults.font.weight = '400';
Chart.defaults.responsive = true;
Chart.defaults.maintainAspectRatio = false;
Chart.defaults.animation.duration = 1400;
Chart.defaults.animation.easing = 'easeOutQuart';

// Color palette
const CC = {
  bearish: '#ef4444',
  bullish: '#10b981',
  orange: '#f7931a',
  blue: '#3b82f6',
  purple: '#8b5cf6',
  amber: '#f59e0b',
  cyan: '#06b6d4',
  text: '#7a7a96',
  textLight: '#e8e8f0',
  grid: 'rgba(26,26,40,0.15)',
  gridStrong: 'rgba(26,26,40,0.3)',
  cardBg: '#12121c'
};

// Shared tooltip config - dark glass effect
const TT = {
  backgroundColor: 'rgba(12,12,20,0.95)',
  titleColor: '#e8e8f0',
  bodyColor: '#7a7a96',
  borderColor: 'rgba(36,36,56,0.6)',
  borderWidth: 1,
  cornerRadius: 12,
  padding: 14,
  titleFont: { family: "'Inter', sans-serif", size: 13, weight: '600' },
  bodyFont: { family: "'JetBrains Mono', monospace", size: 12, weight: '500' },
  usePointStyle: true,
  boxWidth: 8,
  boxHeight: 8,
  displayColors: true,
  caretSize: 6,
  caretPadding: 8
};

// Gradient factory - creates vertical linear gradients for fills
function gr(ctx, r, g, b, topAlpha, botAlpha) {
  if (typeof topAlpha === 'undefined') topAlpha = 0.18;
  if (typeof botAlpha === 'undefined') botAlpha = 0.0;
  var gd = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);
  gd.addColorStop(0, 'rgba(' + r + ',' + g + ',' + b + ',' + topAlpha + ')');
  gd.addColorStop(1, 'rgba(' + r + ',' + g + ',' + b + ',' + botAlpha + ')');
  return gd;
}

// Horizontal gradient for bar charts
function grH(ctx, r, g, b, leftAlpha, rightAlpha) {
  if (typeof leftAlpha === 'undefined') leftAlpha = 0.05;
  if (typeof rightAlpha === 'undefined') rightAlpha = 0.6;
  var gd = ctx.createLinearGradient(0, 0, ctx.canvas.width, 0);
  gd.addColorStop(0, 'rgba(' + r + ',' + g + ',' + b + ',' + leftAlpha + ')');
  gd.addColorStop(1, 'rgba(' + r + ',' + g + ',' + b + ',' + rightAlpha + ')');
  return gd;
}

// Shared scale config
var scaleFont = { family: "'JetBrains Mono', monospace", size: 11 };

// ==================== LAZY LOADING SYSTEM ====================
function createChartOnReveal(id, fn, delay) {
  if (typeof delay === 'undefined') delay = 200;
  var c = document.getElementById(id);
  if (!c) return;
  var obs = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) {
      setTimeout(function() {
        // For canvas elements, pass context; for div elements with TradingView/ApexCharts, pass the element
        if (c.tagName === 'CANVAS') {
          fn(c.getContext('2d'), c);
        } else {
          fn(null, c);
        }
      }, delay);
      obs.disconnect();
    }
  }, { threshold: 0.12 });
  obs.observe(c);
}


// ============================================================
// 1. MAIN PRICE CHART - TradingView Lightweight Charts
// ============================================================
(function() {
  var canvasEl = document.getElementById('priceChart');
  if (!canvasEl) return;
  var wrapDiv = canvasEl.parentElement; // .chart-canvas-wrap

  var obs = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) {
      obs.disconnect();
      setTimeout(function() {
        // Hide the canvas, use the wrapper div for TradingView
        canvasEl.style.display = 'none';

        var tvChart = LightweightCharts.createChart(wrapDiv, {
          layout: {
            background: { color: 'transparent' },
            textColor: '#7a7a96',
            fontFamily: "'Inter', sans-serif",
            fontSize: 12
          },
          grid: {
            vertLines: { color: 'rgba(26,26,40,0.3)', style: 1 },
            horzLines: { color: 'rgba(26,26,40,0.3)', style: 1 }
          },
          rightPriceScale: {
            borderColor: 'rgba(26,26,40,0.4)',
            scaleMargins: { top: 0.08, bottom: 0.05 },
            autoScale: true,
            entireTextOnly: true
          },
          timeScale: {
            borderColor: 'rgba(26,26,40,0.4)',
            timeVisible: false,
            rightOffset: 5,
            barSpacing: 18,
            fixLeftEdge: true,
            fixRightEdge: true
          },
          crosshair: {
            mode: 0,
            vertLine: {
              color: 'rgba(247,147,26,0.3)',
              width: 1,
              style: 2,
              labelBackgroundColor: '#1e1e2e'
            },
            horzLine: {
              color: 'rgba(247,147,26,0.3)',
              width: 1,
              style: 2,
              labelBackgroundColor: '#1e1e2e'
            }
          },
          handleScroll: { mouseWheel: true, pressedMouseMove: true },
          handleScale: { axisPressedMouseMove: true, mouseWheel: true, pinch: true }
        });

        // Area series - bearish red gradient
        var areaSeries = tvChart.addSeries(LightweightCharts.AreaSeries, {
          lineColor: '#ef4444',
          topColor: 'rgba(239,68,68,0.28)',
          bottomColor: 'rgba(239,68,68,0.01)',
          lineWidth: 2,
          priceFormat: { type: 'custom', formatter: function(p) { return '$' + Math.round(p).toLocaleString(); } },
          crosshairMarkerRadius: 5,
          crosshairMarkerBorderColor: '#ef4444',
          crosshairMarkerBackgroundColor: '#12121c'
        });

        // Full price data points
        areaSeries.setData([
          { time: '2025-10-06', value: 126198 },
          { time: '2025-10-15', value: 120000 },
          { time: '2025-11-01', value: 110000 },
          { time: '2025-11-15', value: 105000 },
          { time: '2025-12-01', value: 95000 },
          { time: '2025-12-15', value: 88000 },
          { time: '2025-12-31', value: 87000 },
          { time: '2026-01-11', value: 90630 },
          { time: '2026-01-20', value: 82000 },
          { time: '2026-01-27', value: 82000 },
          { time: '2026-01-30', value: 77000 },
          { time: '2026-01-31', value: 78000 },
          { time: '2026-02-01', value: 78427 },
          { time: '2026-02-02', value: 76000 },
          { time: '2026-02-05', value: 60062 },
          { time: '2026-02-06', value: 70000 },
          { time: '2026-02-11', value: 66000 },
          { time: '2026-02-14', value: 70000 },
          { time: '2026-02-16', value: 68605 }
        ]);

        // Key event markers (v5 API: createSeriesMarkers; v4 fallback: setMarkers)
        var markerData = [
          { time: '2025-10-06', position: 'aboveBar', color: '#10b981', shape: 'arrowDown', text: 'ATH $126,198' },
          { time: '2025-11-01', position: 'aboveBar', color: '#f59e0b', shape: 'arrowDown', text: 'ETF Outflows Begin' },
          { time: '2025-12-15', position: 'aboveBar', color: '#f59e0b', shape: 'arrowDown', text: 'Fed: 1 Cut Only' },
          { time: '2026-01-30', position: 'aboveBar', color: '#ef4444', shape: 'arrowDown', text: 'Warsh Nominated' },
          { time: '2026-02-05', position: 'belowBar', color: '#ef4444', shape: 'arrowUp', text: 'Flash Crash $60,062' },
          { time: '2026-02-06', position: 'belowBar', color: '#10b981', shape: 'arrowUp', text: 'Whale Buying 66,940 BTC' }
        ];
        try {
          if (typeof LightweightCharts.createSeriesMarkers === 'function') {
            LightweightCharts.createSeriesMarkers(areaSeries, markerData);
          } else if (typeof areaSeries.setMarkers === 'function') {
            areaSeries.setMarkers(markerData);
          }
        } catch(e) { /* markers not supported in this version */ }

        // Add key price levels
        try {
          areaSeries.createPriceLine({ price: 68605, color: '#f7931a', lineWidth: 1, lineStyle: 2, axisLabelVisible: true, title: 'Current $68,605' });
          areaSeries.createPriceLine({ price: 126198, color: 'rgba(16,185,129,0.4)', lineWidth: 1, lineStyle: 2, axisLabelVisible: false, title: '' });
        } catch(e) { /* price lines not supported in this version */ }

        tvChart.timeScale().fitContent();

        // Handle resize
        var resizeObserver = new ResizeObserver(function(entries) {
          var entry = entries[0];
          if (entry) {
            tvChart.applyOptions({
              width: entry.contentRect.width,
              height: entry.contentRect.height
            });
          }
        });
        resizeObserver.observe(wrapDiv);
      }, 300);
    }
  }, { threshold: 0.12 });
  obs.observe(wrapDiv);
})();


// ============================================================
// 2. FEAR & GREED INDEX - Chart.js
// ============================================================
createChartOnReveal('fearGreedChart', function(ctx) {
  var L = ['Oct 2025', 'Nov 2025', 'Dec 2025', 'Jan 2026', 'Feb 5', 'Feb 6', 'Feb 11', 'Feb 16'];
  var V = [78, 55, 32, 22, 8, 5, 10, 12];
  var barColors = V.map(function(v) {
    if (v <= 10) return 'rgba(239,68,68,0.75)';
    if (v <= 25) return 'rgba(249,115,22,0.7)';
    if (v <= 45) return 'rgba(245,158,11,0.65)';
    if (v <= 55) return 'rgba(255,193,7,0.65)';
    return 'rgba(16,185,129,0.7)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: L,
      datasets: [{
        data: V,
        backgroundColor: barColors,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 52,
        borderSkipped: false
      }]
    },
    options: {
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              var v = c.parsed.y;
              var label = v <= 10 ? 'Extreme Fear' : v <= 25 ? 'Fear' : v <= 45 ? 'Fear' : v <= 55 ? 'Neutral' : 'Greed';
              return v + ' - ' + label;
            }
          }
        }),
        annotation: {
          annotations: {
            low: {
              type: 'label', xValue: 'Feb 6', yValue: 5,
              content: ['ALL-TIME LOW: 5'],
              backgroundColor: 'rgba(239,68,68,0.15)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '700' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, yAdjust: -24
            },
            ftx: {
              type: 'line', yMin: 12, yMax: 12,
              borderColor: 'rgba(245,158,11,0.35)', borderWidth: 1.5, borderDash: [6, 4],
              label: {
                display: true, content: 'FTX Level (12)', position: 'end',
                backgroundColor: 'transparent', color: CC.amber,
                font: { family: "'JetBrains Mono'", size: 10 }
              }
            },
            luna: {
              type: 'line', yMin: 6, yMax: 6,
              borderColor: 'rgba(239,68,68,0.25)', borderWidth: 1, borderDash: [4, 4],
              label: {
                display: true, content: 'Luna (6)', position: 'start',
                backgroundColor: 'transparent', color: 'rgba(239,68,68,0.6)',
                font: { family: "'JetBrains Mono'", size: 9 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 11 } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, padding: 8 },
          border: { display: false },
          min: 0, max: 100
        }
      }
    }
  });
});


// ============================================================
// 3. ETF MONTHLY FLOWS - Chart.js
// ============================================================
createChartOnReveal('etfChart', function(ctx) {
  var L = ['Jan 25', 'Feb 25', 'Mar 25', 'Apr 25', 'May 25', 'Jun 25', 'Jul 25', 'Aug 25', 'Sep 25', 'Oct 25', 'Nov 25', 'Dec 25', 'Jan 26', 'Feb 26*'];
  var D = [4.5, 3.8, 2.5, 1.8, 2.2, 3.5, 4.2, 3.0, 2.8, 2.0, -3.48, -1.09, -3.0, -0.5];
  var colors = D.map(function(v) {
    return v >= 0 ? 'rgba(16,185,129,0.65)' : 'rgba(239,68,68,0.7)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: L,
      datasets: [{
        label: 'Net ETF Flows ($B)',
        data: D,
        backgroundColor: colors,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 44,
        borderSkipped: false
      }]
    },
    options: {
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) { return (c.parsed.y >= 0 ? '+' : '') + c.parsed.y.toFixed(2) + 'B'; }
          }
        }),
        annotation: {
          annotations: {
            zero: { type: 'line', yMin: 0, yMax: 0, borderColor: '#52526a', borderWidth: 1 },
            outflow: {
              type: 'box', xMin: 'Nov 25', xMax: 'Jan 26',
              backgroundColor: 'rgba(239,68,68,0.04)', borderColor: 'rgba(239,68,68,0.1)', borderWidth: 1
            },
            outflowLabel: {
              type: 'label', xValue: 'Dec 25', yValue: -3.48,
              content: ['-$6.18B Total Outflows'],
              backgroundColor: 'rgba(239,68,68,0.12)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 9, weight: '600' },
              padding: { top: 3, bottom: 3, left: 8, right: 8 }, borderRadius: 6, yAdjust: -24
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 10 }, maxRotation: 45 },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return (v >= 0 ? '+' : '') + v + 'B'; }, padding: 8 },
          border: { display: false }
        }
      }
    }
  });
});


// ============================================================
// 4. CORRELATION MATRIX - ApexCharts Heatmap
// ============================================================
(function() {
  var canvasEl = document.getElementById('correlationMatrix');
  if (!canvasEl) return;
  var wrapDiv = canvasEl.parentElement; // .chart-canvas-wrap

  var obs = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) {
      obs.disconnect();
      setTimeout(function() {
        canvasEl.style.display = 'none';

        // Create a div for ApexCharts
        var apexDiv = document.createElement('div');
        apexDiv.style.width = '100%';
        apexDiv.style.height = '100%';
        wrapDiv.appendChild(apexDiv);

        var assets = ['M2 Supply', 'VIX', 'DXY', 'Gold', 'Nasdaq', 'S&P 500'];
        var periods = ['1-Year', '90-Day', '30-Day'];

        var series = [
          { name: '30-Day', data: [
            { x: 'S&P 500', y: 0.75 },
            { x: 'Nasdaq', y: 0.80 },
            { x: 'Gold', y: -0.42 },
            { x: 'DXY', y: -0.55 },
            { x: 'VIX', y: -0.60 },
            { x: 'M2 Supply', y: 0.15 }
          ]},
          { name: '90-Day', data: [
            { x: 'S&P 500', y: 0.60 },
            { x: 'Nasdaq', y: 0.65 },
            { x: 'Gold', y: -0.30 },
            { x: 'DXY', y: -0.45 },
            { x: 'VIX', y: -0.50 },
            { x: 'M2 Supply', y: 0.30 }
          ]},
          { name: '1-Year', data: [
            { x: 'S&P 500', y: 0.35 },
            { x: 'Nasdaq', y: 0.40 },
            { x: 'Gold', y: 0.15 },
            { x: 'DXY', y: -0.40 },
            { x: 'VIX', y: -0.45 },
            { x: 'M2 Supply', y: 0.70 }
          ]}
        ];

        var chart = new ApexCharts(apexDiv, {
          chart: {
            type: 'heatmap',
            height: '100%',
            width: '100%',
            background: 'transparent',
            foreColor: '#7a7a96',
            toolbar: { show: false },
            fontFamily: "'Inter', sans-serif",
            animations: { enabled: true, easing: 'easeinout', speed: 800 }
          },
          series: series,
          theme: { mode: 'dark' },
          dataLabels: {
            enabled: true,
            style: {
              fontSize: '12px',
              fontFamily: "'JetBrains Mono', monospace",
              fontWeight: 600,
              colors: ['#e8e8f0']
            },
            formatter: function(val) {
              return (val >= 0 ? '+' : '') + val.toFixed(2);
            }
          },
          colors: ['#3b82f6'],
          plotOptions: {
            heatmap: {
              radius: 6,
              enableShades: false,
              colorScale: {
                ranges: [
                  { from: -1, to: -0.5, name: 'Strong Negative', color: '#ef4444' },
                  { from: -0.5, to: -0.1, name: 'Weak Negative', color: '#f97316' },
                  { from: -0.1, to: 0.1, name: 'Neutral', color: '#4b5563' },
                  { from: 0.1, to: 0.5, name: 'Weak Positive', color: '#3b82f6' },
                  { from: 0.5, to: 1.0, name: 'Strong Positive', color: '#10b981' }
                ]
              }
            }
          },
          stroke: { width: 3, colors: ['#14141e'] },
          grid: { show: false, padding: { left: 10, right: 10 } },
          xaxis: {
            labels: {
              style: {
                colors: '#8a8aa0',
                fontSize: '11px',
                fontFamily: "'Inter', sans-serif",
                fontWeight: 500
              }
            },
            axisBorder: { show: false },
            axisTicks: { show: false }
          },
          yaxis: {
            labels: {
              style: {
                colors: '#8a8aa0',
                fontSize: '12px',
                fontFamily: "'Inter', sans-serif",
                fontWeight: 500
              }
            }
          },
          tooltip: {
            custom: function(opts) {
              var val = opts.series[opts.seriesIndex][opts.dataPointIndex];
              var period = series[opts.seriesIndex].name;
              var asset = series[opts.seriesIndex].data[opts.dataPointIndex].x;
              var label = Math.abs(val) >= 0.5 ? 'Strong' : Math.abs(val) >= 0.1 ? 'Weak' : 'Neutral';
              var dir = val > 0 ? 'Positive' : val < 0 ? 'Negative' : '';
              return '<div style="background:rgba(12,12,20,0.95);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border:1px solid rgba(36,36,56,0.6);border-radius:12px;padding:12px 16px;font-family:Inter,sans-serif">' +
                '<div style="color:#e8e8f0;font-weight:600;font-size:13px;margin-bottom:4px">BTC vs ' + asset + '</div>' +
                '<div style="color:#7a7a96;font-family:JetBrains Mono,monospace;font-size:12px">' + period + ': <span style="color:' + (val >= 0 ? '#10b981' : '#ef4444') + '">' + (val >= 0 ? '+' : '') + val.toFixed(2) + '</span></div>' +
                '<div style="color:#52526a;font-size:11px;margin-top:4px">' + label + ' ' + dir + '</div>' +
                '</div>';
            }
          },
          legend: {
            show: true,
            position: 'bottom',
            labels: { colors: '#7a7a96' },
            fontSize: '12px',
            fontFamily: "'Inter', sans-serif",
            markers: { radius: 4 }
          }
        });
        chart.render();
      }, 250);
    }
  }, { threshold: 0.12 });
  obs.observe(wrapDiv);
})();


// ============================================================
// 5. SHARPE RATIO - Chart.js
// ============================================================
createChartOnReveal('sharpeChart', function(ctx) {
  var assets = ['Gold', 'S&P 500', 'US 10Y Bond', 'Bitcoin'];
  var sharpe = [4.20, 0.72, 0.19, -0.74];
  var colors = sharpe.map(function(v) {
    if (v >= 1) return gr(ctx, 16, 185, 129, 0.0, 0.7);
    if (v >= 0) return gr(ctx, 59, 130, 246, 0.0, 0.6);
    return gr(ctx, 239, 68, 68, 0.0, 0.7);
  });
  // Fallback solid colors for legend
  var solidColors = sharpe.map(function(v) {
    if (v >= 1) return 'rgba(16,185,129,0.75)';
    if (v >= 0) return 'rgba(59,130,246,0.65)';
    return 'rgba(239,68,68,0.75)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: assets,
      datasets: [{
        label: '1-Year Sharpe Ratio',
        data: sharpe,
        backgroundColor: function(context) {
          var chart = context.chart;
          var ctx2 = chart.ctx;
          var idx = context.dataIndex;
          var v = sharpe[idx];
          if (v >= 1) return grH(ctx2, 16, 185, 129, 0.1, 0.7);
          if (v >= 0) return grH(ctx2, 59, 130, 246, 0.1, 0.6);
          return grH(ctx2, 239, 68, 68, 0.7, 0.1);
        },
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 52,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) { return 'Sharpe: ' + (c.parsed.x >= 0 ? '+' : '') + c.parsed.x.toFixed(2); }
          }
        }),
        annotation: {
          annotations: {
            zero: { type: 'line', xMin: 0, xMax: 0, borderColor: 'rgba(255,255,255,0.2)', borderWidth: 1 },
            goldLabel: {
              type: 'label', xValue: 4.20, yValue: 'Gold',
              content: ['Extraordinary'], color: CC.bullish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              backgroundColor: 'rgba(16,185,129,0.12)',
              padding: { top: 3, bottom: 3, left: 6, right: 6 }, borderRadius: 4, yAdjust: -22
            },
            btcLabel: {
              type: 'label', xValue: -0.74, yValue: 'Bitcoin',
              content: ['Bottom 5th %ile'], color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              backgroundColor: 'rgba(239,68,68,0.12)',
              padding: { top: 3, bottom: 3, left: 6, right: 6 }, borderRadius: 4, yAdjust: -22
            }
          }
        }
      },
      scales: {
        x: {
          min: -1.5, max: 5,
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return (v >= 0 ? '+' : '') + v.toFixed(1); }, padding: 8 },
          border: { display: false }
        },
        y: {
          grid: { display: false },
          ticks: { color: '#a0a0b8', font: { size: 13, weight: '600' } },
          border: { display: false }
        }
      }
    }
  });
}, 200);


// ============================================================
// 6. FUTURES OPEN INTEREST - Chart.js
// ============================================================
createChartOnReveal('oiChart', function(ctx) {
  var L = ['Oct 25', 'Nov 25', 'Dec 25', 'Jan 1', 'Jan 15', 'Jan 30', 'Feb 1', 'Feb 5', 'Feb 7', 'Feb 10', 'Feb 15'];
  var D = [94.1, 80, 65, 61, 61, 58, 61, 49, 52, 60, 84.1];

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: L,
      datasets: [{
        label: 'OI ($B)',
        data: D,
        borderColor: CC.blue,
        borderWidth: 2.5,
        tension: 0.4,
        fill: true,
        backgroundColor: gr(ctx, 59, 130, 246, 0.15, 0.0),
        pointRadius: 0,
        pointHoverRadius: 6,
        pointHoverBackgroundColor: CC.blue,
        pointHoverBorderColor: '#12121c',
        pointHoverBorderWidth: 2
      }]
    },
    options: {
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return '$' + c.parsed.y + 'B'; } }
        }),
        annotation: {
          annotations: {
            deleverage: {
              type: 'box', xMin: 'Jan 30', xMax: 'Feb 7',
              backgroundColor: 'rgba(239,68,68,0.04)', borderColor: 'rgba(239,68,68,0.15)', borderWidth: 1
            },
            peak: {
              type: 'label', xValue: 'Oct 25', yValue: 94.1,
              content: ['Peak: $94.1B'],
              backgroundColor: 'rgba(59,130,246,0.12)', color: CC.blue,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, yAdjust: -22
            },
            low: {
              type: 'label', xValue: 'Feb 5', yValue: 49,
              content: ['Trough: $49B (-42%)'],
              backgroundColor: 'rgba(239,68,68,0.12)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, yAdjust: 22
            },
            relev: {
              type: 'label', xValue: 'Feb 15', yValue: 84.1,
              content: ['Re-leveraging $84.1B'],
              backgroundColor: 'rgba(245,158,11,0.12)', color: CC.amber,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, yAdjust: -22
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 11 }, maxRotation: 45 },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return '$' + v + 'B'; }, padding: 8 },
          border: { display: false },
          min: 40, max: 100
        }
      }
    }
  });
});


// ============================================================
// 7. MINING PRODUCTION COST - Chart.js
// ============================================================
createChartOnReveal('miningChart', function(ctx) {
  var L = ['Kazakhstan', 'Texas (Industrial)', 'Nordic Countries', 'US Hosting (Avg)', 'Residential (US)', 'High-Cost Regions'];
  var D = [45000, 50000, 55000, 60000, 90000, 100000];
  var C = D.map(function(c) { return c <= 68000 ? 'rgba(16,185,129,0.65)' : 'rgba(239,68,68,0.65)'; });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: L,
      datasets: [{
        data: D,
        backgroundColor: function(context) {
          var chart = context.chart;
          var ctx2 = chart.ctx;
          var idx = context.dataIndex;
          var v = D[idx];
          if (v <= 68000) return grH(ctx2, 16, 185, 129, 0.1, 0.65);
          return grH(ctx2, 239, 68, 68, 0.1, 0.65);
        },
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 48,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              var profitable = c.parsed.x <= 68605 ? ' (Profitable)' : ' (Unprofitable)';
              return '$' + c.parsed.x.toLocaleString() + ' per BTC' + profitable;
            }
          }
        }),
        annotation: {
          annotations: {
            price: {
              type: 'line', xMin: 68605, xMax: 68605,
              borderColor: CC.orange, borderWidth: 2, borderDash: [6, 4],
              label: {
                display: true, content: 'Current: $68,605', position: 'start',
                backgroundColor: 'rgba(247,147,26,0.15)', color: CC.orange,
                font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
                padding: { top: 3, bottom: 3, left: 6, right: 6 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return '$' + (v / 1000) + 'K'; }, padding: 8 },
          border: { display: false },
          min: 0, max: 120000
        },
        y: {
          grid: { display: false },
          ticks: { color: '#8a8aa0', font: { size: 11, weight: '500' } },
          border: { display: false }
        }
      }
    }
  });
});


// ============================================================
// 8. QUANTUM TIMELINE - Chart.js
// ============================================================
createChartOnReveal('quantumChart', function(ctx) {
  var L = ['Adam Back (Blockstream)', 'IBM Roadmap', 'ECDLP Research', 'Expert Survey (50%)', 'Chamath (VC)', 'Current Hardware'];
  var S = [20, 3, 1, 4, 2, 0];
  var R = [20, 4, 6, 5, 3, 0];

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: L,
      datasets: [{
        label: 'Years from now (earliest)',
        data: S,
        backgroundColor: 'rgba(59,130,246,0.55)',
        borderRadius: 8,
        borderSkipped: false,
        maxBarThickness: 36
      }, {
        label: 'Uncertainty range',
        data: R,
        backgroundColor: 'rgba(59,130,246,0.2)',
        borderRadius: 8,
        borderSkipped: false,
        maxBarThickness: 36
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            title: function(i) { return i[0].label; },
            label: function(c) {
              if (c.datasetIndex === 0) return 'Earliest: ' + (c.parsed.x + 2026);
              return 'Through: ' + (S[c.dataIndex] + R[c.dataIndex] + 2026);
            }
          }
        }),
        annotation: {
          annotations: {
            now: {
              type: 'line', xMin: 0, xMax: 0,
              borderColor: CC.bearish, borderWidth: 2,
              label: {
                display: true, content: '2026 (Now)', position: 'start',
                backgroundColor: 'transparent', color: CC.bearish,
                font: { family: "'JetBrains Mono'", size: 10 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          stacked: true,
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return '+' + v + ' yrs'; }, padding: 8 },
          border: { display: false },
          min: 0, max: 45
        },
        y: {
          stacked: true,
          grid: { display: false },
          ticks: { color: '#8a8aa0', font: { size: 11, weight: '500' } },
          border: { display: false }
        }
      }
    }
  });
});


// ============================================================
// 9. HALVING CYCLE TRAJECTORIES - Chart.js
// ============================================================
createChartOnReveal('halvingChart', function(ctx) {
  var days = ['0', '90', '180', '270', '365', '450', '540', '630', '700'];
  function pct(p) {
    return p.map(function(v) { return v === null ? null : ((v / p[0]) - 1) * 100; });
  }
  var c1 = pct([12, 30, 120, 250, 1000, 700, 350, 250, 175]);
  var c2 = pct([650, 750, 900, 1200, 2500, 4200, 8000, 17000, 19700]);
  var c3 = pct([8500, 11500, 18000, 35000, 56000, 64000, 69000, 47000, 35000]);
  var c4 = pct([63850, 72000, 95000, 108000, 126200, 90000, 68000, null, null]);

  function ds(label, color, data) {
    return {
      label: label, data: data, borderColor: color, borderWidth: 2.5, tension: 0.4,
      fill: false, pointRadius: 0, pointHoverRadius: 6, pointHoverBackgroundColor: color,
      pointHoverBorderColor: '#12121c', pointHoverBorderWidth: 2
    };
  }

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: days.map(function(d) { return d + ' days'; }),
      datasets: [
        ds('2012 Cycle', CC.amber, c1),
        ds('2016 Cycle', CC.purple, c2),
        ds('2020 Cycle', CC.blue, c3),
        ds('2024 Cycle', CC.orange, c4)
      ]
    },
    options: {
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        legend: {
          display: true, position: 'top', align: 'end',
          labels: {
            color: '#8a8aa0', font: { family: "'Inter'", size: 12, weight: '500' },
            usePointStyle: true, pointStyle: 'circle', padding: 20, boxWidth: 8, boxHeight: 8
          }
        },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              return c.dataset.label + ': ' + (c.parsed.y !== null ? (c.parsed.y > 0 ? '+' : '') + c.parsed.y.toFixed(0) + '%' : 'N/A');
            }
          }
        })
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 11 } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return (v > 0 ? '+' : '') + v + '%'; }, padding: 8 },
          border: { display: false }
        }
      }
    }
  });
});


// ============================================================
// 10. HISTORICAL DRAWDOWNS - Chart.js
// ============================================================
createChartOnReveal('drawdownChart', function(ctx) {
  var L = ['2014-2015', '2017-2018', '2021-2022', '2025-2026'];
  var D = [-85, -84, -78, -52];
  var C = ['rgba(239,68,68,0.85)', 'rgba(239,68,68,0.7)', 'rgba(239,68,68,0.55)', 'rgba(247,147,26,0.7)'];

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: L,
      datasets: [{
        data: D,
        backgroundColor: C,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 72,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              var t = [
                ['Peak $1,163', 'Bottom $152', 'Recovery 130x'],
                ['Peak $19,700', 'Bottom $3,200', 'Recovery 22x'],
                ['Peak $69,000', 'Bottom $15,476', 'Recovery 8x'],
                ['Peak $126,198', 'Bottom $60,062', 'Recovery ?']
              ];
              return [c.parsed.x + '% drawdown'].concat(t[c.dataIndex]);
            }
          }
        }),
        annotation: {
          annotations: {
            shallower: {
              type: 'label', xValue: -68, yValue: '2025-2026',
              content: ['Shallowest ever (so far)'],
              backgroundColor: 'rgba(247,147,26,0.12)', color: CC.orange,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 3, bottom: 3, left: 8, right: 8 }, borderRadius: 6, yAdjust: -24
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          min: -100, max: 0,
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v + '%'; }, padding: 8 },
          border: { display: false }
        },
        y: {
          grid: { display: false },
          ticks: { color: '#8a8aa0', font: { size: 12, weight: '600' } },
          border: { display: false }
        }
      }
    }
  });
});


// ============================================================
// 11. DIMINISHING DRAWDOWNS TREND - Chart.js
// ============================================================
createChartOnReveal('diminishingDrawdownChart', function(ctx) {
  var cycleLabels = ['Cycle 1\n(2011)', 'Cycle 2\n(2013-15)', 'Cycle 3\n(2017-18)', 'Cycle 4\n(2021-22)', 'Cycle 5\n(2025-26)'];
  var actualDrawdowns = [-93, -86, -84, -77, null];
  var currentDrawdown = [null, null, null, null, -52];
  var projectedDrawdown = [null, null, null, null, -70];
  var trendY = [-93.5, -87.5, -81.5, -75.5, -69.5];

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: cycleLabels,
      datasets: [
        {
          label: 'Historical Maximum Drawdown',
          data: actualDrawdowns,
          backgroundColor: ['rgba(239,68,68,0.85)', 'rgba(239,68,68,0.70)', 'rgba(239,68,68,0.55)', 'rgba(239,68,68,0.42)', null],
          borderWidth: 0, borderRadius: 8, maxBarThickness: 72, borderSkipped: false, order: 2
        },
        {
          label: 'Current Drawdown (-52%)',
          data: currentDrawdown,
          backgroundColor: [null, null, null, null, 'rgba(59,130,246,0.7)'],
          borderWidth: 0, borderRadius: 8, maxBarThickness: 72, borderSkipped: false, order: 2
        },
        {
          label: 'Projected Maximum (~-70%)',
          data: projectedDrawdown,
          backgroundColor: [null, null, null, null, 'rgba(139,92,246,0.35)'],
          borderColor: [null, null, null, null, 'rgba(139,92,246,0.8)'],
          borderWidth: [0, 0, 0, 0, 2], borderRadius: 8, maxBarThickness: 72, borderSkipped: false, borderDash: [6, 4], order: 2
        },
        {
          label: 'Diminishing Trend',
          data: trendY, type: 'line', borderColor: 'rgba(245,158,11,0.7)', backgroundColor: 'transparent',
          borderWidth: 2.5, borderDash: [8, 4],
          pointRadius: [4, 4, 4, 4, 6],
          pointBackgroundColor: ['#f59e0b', '#f59e0b', '#f59e0b', '#f59e0b', '#8b5cf6'],
          pointBorderColor: 'transparent', tension: 0.3, order: 1
        }
      ]
    },
    options: {
      plugins: {
        legend: {
          display: true, position: 'top', align: 'end',
          labels: {
            color: '#8a8aa0', font: { family: "'Inter'", size: 11, weight: '500' },
            usePointStyle: true, pointStyle: 'circle', padding: 16, boxWidth: 8, boxHeight: 8,
            filter: function(item) { return item.text !== 'Projected Maximum (~-70%)'; }
          }
        },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              if (c.datasetIndex === 3) return 'Trend: ' + c.parsed.y.toFixed(1) + '%';
              if (c.parsed.y === null) return null;
              return c.dataset.label + ': ' + c.parsed.y + '%';
            }
          }
        }),
        annotation: {
          annotations: {
            projLabel: {
              type: 'label', xValue: 4, yValue: -70,
              content: ['Projected: ~-70%', 'Bottom ~$37,860'],
              backgroundColor: 'rgba(139,92,246,0.15)', color: '#8b5cf6',
              font: { family: "'JetBrains Mono'", size: 11, weight: '600' },
              padding: { top: 6, bottom: 6, left: 10, right: 10 }, borderRadius: 6, yAdjust: 40
            },
            currentLabel: {
              type: 'label', xValue: 4, yValue: -52,
              content: ['Current: -52%', 'Price: $60,062'],
              backgroundColor: 'rgba(59,130,246,0.15)', color: '#3b82f6',
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 4, yAdjust: -30
            },
            arrow: {
              type: 'line', xMin: 4.35, xMax: 4.35, yMin: -52, yMax: -70,
              borderColor: 'rgba(139,92,246,0.5)', borderWidth: 1.5, borderDash: [4, 3]
            },
            gapLabel: {
              type: 'label', xValue: 4.35, yValue: -61,
              content: ['18% more', 'downside?'],
              backgroundColor: 'rgba(139,92,246,0.1)', color: '#8b5cf6',
              font: { family: "'JetBrains Mono'", size: 9, weight: '500' },
              padding: { top: 3, bottom: 3, left: 6, right: 6 }, borderRadius: 4, xAdjust: 45
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#8a8aa0', font: { size: 11, weight: '600' } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          min: -100, max: 0,
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v + '%'; }, stepSize: 10, padding: 8 },
          border: { display: false }
        }
      }
    }
  });
}, 300);


// ============================================================
// 12. DRAWDOWN TRAJECTORY OVERLAY - Chart.js
// ============================================================
createChartOnReveal('drawdownTrajectoryChart', function(ctx) {
  var days = [0, 7, 14, 30, 60, 90, 120, 133, 150, 180, 210, 240, 270, 300, 330, 365, 400, 450, 500];
  var c2 = [0, -18, -30, -40, -55, -71, -65, -62, -60, -58, -55, -57, -60, -65, -70, -75, -80, -85, -84];
  var c3 = [0, -10, -22, -35, -55, -70, -60, -65, -63, -65, -67, -68, -70, -75, -80, -84, -83, -82, null];
  var c4 = [0, -7, -12, -18, -28, -51, -45, -48, -50, -52, -55, -57, -60, -65, -70, -75, -77, -76, null];
  var c5 = [0, -5, -8, -15, -24, -32, -41, -52, null, null, null, null, null, null, null, null, null, null, null];
  var c5proj = [null, null, null, null, null, null, null, -52, -55, -58, -60, -62, -65, -67, -68, -70, -70, -68, null];

  function dsLine(label, color, data, width, dash) {
    return {
      label: label,
      data: data.map(function(v, i) { return v === null ? null : { x: days[i], y: v }; }).filter(function(v) { return v !== null; }),
      borderColor: color, backgroundColor: 'transparent',
      borderWidth: width || 2, tension: 0.35, fill: false,
      pointRadius: 0, pointHoverRadius: 5, pointHoverBackgroundColor: color,
      pointHoverBorderColor: '#12121c', pointHoverBorderWidth: 2,
      borderDash: dash || [], spanGaps: false
    };
  }

  new Chart(ctx, {
    type: 'line',
    data: {
      datasets: [
        dsLine('2013-2015 Cycle', 'rgba(239,68,68,0.45)', c2, 1.5),
        dsLine('2017-2018 Cycle', 'rgba(249,115,22,0.45)', c3, 1.5),
        dsLine('2021-2022 Cycle', 'rgba(139,92,246,0.45)', c4, 1.5),
        dsLine('2025-2026 (Actual)', CC.cyan, c5, 3),
        dsLine('2025-2026 (Projected)', CC.cyan, c5proj, 2, [8, 5])
      ]
    },
    options: {
      interaction: { intersect: false, mode: 'nearest', axis: 'x' },
      plugins: {
        legend: {
          display: true, position: 'top', align: 'end',
          labels: {
            color: '#8a8aa0', font: { family: "'Inter'", size: 11, weight: '500' },
            usePointStyle: true, pointStyle: 'circle', padding: 16, boxWidth: 8, boxHeight: 8
          }
        },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            title: function(items) { return 'Day ' + items[0].parsed.x + ' from Peak'; },
            label: function(c) {
              if (c.parsed.y === null) return null;
              return c.dataset.label + ': ' + c.parsed.y.toFixed(0) + '%';
            }
          }
        }),
        annotation: {
          annotations: {
            youAreHere: {
              type: 'point', xValue: 133, yValue: -52,
              backgroundColor: CC.cyan, borderColor: '#fff', borderWidth: 2, radius: 7
            },
            hereLabel: {
              type: 'label', xValue: 133, yValue: -52,
              content: ['YOU ARE HERE', 'Day 133, -52%'],
              backgroundColor: 'rgba(6,182,212,0.15)', color: CC.cyan,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 5, bottom: 5, left: 10, right: 10 }, borderRadius: 6, xAdjust: 90
            },
            projBottom: {
              type: 'point', xValue: 365, yValue: -70,
              backgroundColor: '#8b5cf6', borderColor: '#fff', borderWidth: 2, radius: 6
            },
            projLabel: {
              type: 'label', xValue: 365, yValue: -70,
              content: ['Projected Bottom', '~-70% (~$37,860)', '~Oct 2026'],
              backgroundColor: 'rgba(139,92,246,0.15)', color: '#8b5cf6',
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 5, bottom: 5, left: 10, right: 10 }, borderRadius: 6, yAdjust: 35
            },
            seventyLine: {
              type: 'line', yMin: -70, yMax: -70,
              borderColor: 'rgba(139,92,246,0.3)', borderWidth: 1, borderDash: [6, 4],
              label: {
                display: true, content: '-70% Projection', position: 'start',
                backgroundColor: 'transparent', color: 'rgba(139,92,246,0.6)',
                font: { family: "'JetBrains Mono'", size: 9 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          type: 'linear', min: 0, max: 500,
          grid: { color: 'rgba(26,26,40,0.15)', borderDash: [3, 3] },
          ticks: { color: '#52526a', font: { size: 11 }, callback: function(v) { return v + ' days'; }, stepSize: 50, padding: 8 },
          border: { display: false },
          title: { display: true, text: 'Days from All-Time High', color: '#52526a', font: { size: 12 } }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          min: -95, max: 5,
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v + '%'; }, stepSize: 10, padding: 8 },
          border: { display: false },
          title: { display: true, text: 'Drawdown from ATH', color: '#52526a', font: { size: 12 } }
        }
      }
    }
  });
}, 300);


// ============================================================
// 13. LOG REGRESSION BANDS - Chart.js
// ============================================================
createChartOnReveal('logRegressionChart', function(ctx) {
  var labels = ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027'];

  var bandMinus2 = [180, 350, 700, 1200, 2200, 4000, 7000, 12000, 18000, 28000, 38000, 48000, 58000];
  var bandMinus1_5 = [250, 500, 1000, 1800, 3300, 6000, 10500, 18000, 27000, 42000, 55000, 68000, 82000];
  var bandMinus1 = [350, 700, 1500, 2800, 5000, 9000, 16000, 27000, 40000, 55000, 68000, 85000, 105000];
  var bandMinus05 = [500, 1000, 2200, 4200, 7500, 14000, 25000, 42000, 58000, 68000, 85000, 105000, 130000];
  var fairValue = [700, 1500, 3500, 6500, 11000, 20000, 38000, 62000, 78000, 85000, 105000, 130000, 160000];
  var bandPlus05 = [1000, 2200, 5500, 10000, 18000, 32000, 58000, 92000, 105000, 110000, 130000, 160000, 200000];
  var bandPlus1 = [1500, 3500, 9000, 16000, 28000, 50000, 90000, 135000, 150000, 150000, 165000, 200000, 250000];
  var bandPlus1_5 = [2200, 5500, 15000, 26000, 45000, 80000, 140000, 190000, 200000, 200000, 210000, 250000, 310000];
  var bandPlus2 = [3500, 9000, 25000, 42000, 72000, 128000, 220000, 280000, 280000, 270000, 270000, 310000, 390000];
  var btcPrice = [315, 650, 19783, 3200, 7200, 8821, 69044, 15476, 42000, 64969, 126198, 69000, null];

  // Use absolute fill targets to avoid issues with Chart.js draw order reordering
  // Boosted alpha values (2.5x) for visibility against ultra-dark #050508 background
  function bandDef(label, data, fillTarget, fillColor, borderClr) {
    return {
      label: label, data: data, fill: { target: fillTarget, above: fillColor, below: fillColor },
      backgroundColor: fillColor,
      borderColor: borderClr, borderWidth: 0.5, pointRadius: 0, tension: 0.4
    };
  }

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [
        bandDef('+2 SD "SELL!"', bandPlus2, 1, 'rgba(239,68,68,0.40)', 'rgba(239,68,68,0.35)'),
        bandDef('+1.5 SD "Bubble?"', bandPlus1_5, 2, 'rgba(239,68,68,0.30)', 'rgba(239,68,68,0.25)'),
        bandDef('+1 SD "Caution"', bandPlus1, 3, 'rgba(249,115,22,0.32)', 'rgba(249,115,22,0.25)'),
        bandDef('+0.5 SD "HODL"', bandPlus05, 4, 'rgba(245,158,11,0.32)', 'rgba(245,158,11,0.25)'),
        bandDef('Fair Value', fairValue, 5, 'rgba(139,92,246,0.32)', 'rgba(139,92,246,0.25)'),
        bandDef('-0.5 SD "Undervalued"', bandMinus05, 6, 'rgba(16,185,129,0.32)', 'rgba(16,185,129,0.25)'),
        bandDef('-1 SD "Still Cheap"', bandMinus1, 7, 'rgba(59,130,246,0.32)', 'rgba(59,130,246,0.25)'),
        bandDef('-1.5 SD "Accumulate"', bandMinus1_5, 8, 'rgba(59,130,246,0.25)', 'rgba(59,130,246,0.20)'),
        {
          label: '-2 SD "Fire Sale"', data: bandMinus2, fill: 'origin',
          backgroundColor: 'rgba(30,58,138,0.22)', borderColor: 'rgba(30,58,138,0.20)',
          borderWidth: 0.5, pointRadius: 0, tension: 0.4
        },
        {
          label: 'BTC Price', data: btcPrice, borderColor: '#eaeaf0', backgroundColor: 'transparent',
          borderWidth: 2.5, fill: false,
          pointRadius: [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 7, 6, 0],
          pointBackgroundColor: ['#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0','#eaeaf0',CC.bullish,CC.cyan,'transparent'],
          pointBorderColor: 'transparent', tension: 0.3, spanGaps: false
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        filler: { propagate: false },
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            title: function(items) { return items[0].label; },
            label: function(c) {
              if (c.datasetIndex === 9) return 'BTC: $' + c.parsed.y.toLocaleString();
              if (c.datasetIndex === 4) return c.dataset.label + ': $' + c.parsed.y.toLocaleString();
              return null;
            },
            filter: function(c) { return c.datasetIndex === 9 || c.datasetIndex === 4; }
          }
        }),
        annotation: {
          annotations: {
            currentLabel: {
              type: 'label', xValue: 11, yValue: 69000,
              content: ['Current: $69K', '"-0.5 SD Undervalued"'],
              backgroundColor: 'rgba(6,182,212,0.12)', color: CC.cyan,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 5, bottom: 5, left: 10, right: 10 }, borderRadius: 6, xAdjust: 95
            },
            fairLabel: {
              type: 'label', xValue: 11, yValue: 130000,
              content: ['Fair Value ~$130K'],
              backgroundColor: 'rgba(139,92,246,0.12)', color: '#8b5cf6',
              font: { family: "'JetBrains Mono'", size: 9, weight: '600' },
              padding: { top: 3, bottom: 3, left: 8, right: 8 }, borderRadius: 4, yAdjust: -20
            },
            peak2017: {
              type: 'label', xValue: 2, yValue: 19783,
              content: ['2017 Peak', '+2.0 SD'],
              backgroundColor: 'rgba(239,68,68,0.1)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 8, weight: '500' },
              padding: { top: 2, bottom: 2, left: 6, right: 6 }, borderRadius: 4, yAdjust: -20
            },
            peak2021: {
              type: 'label', xValue: 6, yValue: 69044,
              content: ['2021 Peak', '+1.5 SD'],
              backgroundColor: 'rgba(249,115,22,0.1)', color: CC.orange,
              font: { family: "'JetBrains Mono'", size: 8, weight: '500' },
              padding: { top: 2, bottom: 2, left: 6, right: 6 }, borderRadius: 4, yAdjust: -20
            },
            peak2025: {
              type: 'label', xValue: 10, yValue: 126198,
              content: ['2025 Peak', '+1.0 SD'],
              backgroundColor: 'rgba(245,158,11,0.1)', color: CC.amber,
              font: { family: "'JetBrains Mono'", size: 8, weight: '500' },
              padding: { top: 2, bottom: 2, left: 6, right: 6 }, borderRadius: 4, yAdjust: -20
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: 'rgba(26,26,40,0.15)', borderDash: [3, 3] },
          ticks: { color: '#52526a', font: { size: 11 } },
          border: { display: false }
        },
        y: {
          type: 'logarithmic',
          grid: { color: 'rgba(26,26,40,0.15)', borderDash: [3, 3] },
          ticks: {
            color: '#52526a', font: { family: "'JetBrains Mono'", size: 10 },
            callback: function(v) {
              if ([100, 500, 1000, 5000, 10000, 50000, 100000, 200000, 400000].indexOf(v) !== -1) return '$' + v.toLocaleString();
              return '';
            }
          },
          border: { display: false },
          min: 100, max: 400000
        }
      }
    }
  });
}, 300);


// ============================================================
// 14. MVRV Z-SCORE - Chart.js
// ============================================================
createChartOnReveal('mvrvChart', function(ctx) {
  var L = ['2013 Peak', '2013 Bottom', '2017 Peak', '2017 Bottom', '2021 Peak', '2021 Bottom', '2025 Peak', '2026 Current'];
  var V = [9.5, -0.4, 9.0, -0.3, 7.5, -0.2, 4.5, 1.32];
  var C = V.map(function(v) {
    if (v > 5) return 'rgba(239,68,68,0.75)';
    if (v > 2) return 'rgba(247,147,26,0.7)';
    if (v > 0) return 'rgba(59,130,246,0.65)';
    return 'rgba(16,185,129,0.7)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: L,
      datasets: [{
        data: V,
        backgroundColor: C,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 52,
        borderSkipped: false
      }]
    },
    options: {
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return 'Z-Score: ' + c.parsed.y; } }
        }),
        annotation: {
          annotations: {
            hot: {
              type: 'line', yMin: 7, yMax: 7,
              borderColor: 'rgba(239,68,68,0.35)', borderWidth: 1.5, borderDash: [6, 4],
              label: {
                display: true, content: 'Overheated (>7)', position: 'end',
                backgroundColor: 'transparent', color: CC.bearish,
                font: { family: "'JetBrains Mono'", size: 10 }
              }
            },
            bot: {
              type: 'line', yMin: 0, yMax: 0,
              borderColor: 'rgba(16,185,129,0.35)', borderWidth: 1.5, borderDash: [6, 4],
              label: {
                display: true, content: 'Bottom Zone (<0)', position: 'end',
                backgroundColor: 'transparent', color: CC.bullish,
                font: { family: "'JetBrains Mono'", size: 10 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 10 } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v.toFixed(1); }, padding: 8 },
          border: { display: false },
          min: -1, max: 11
        }
      }
    }
  });
});


// ============================================================
// 15. SUPPLY IN PROFIT - Chart.js Doughnut
// ============================================================
createChartOnReveal('supplyChart', function(ctx) {
  new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['Supply in Profit (11.1M BTC)', 'Supply in Loss (8.9M BTC)'],
      datasets: [{
        data: [55, 45],
        backgroundColor: ['rgba(16,185,129,0.7)', 'rgba(239,68,68,0.7)'],
        borderColor: ['rgba(16,185,129,0.9)', 'rgba(239,68,68,0.9)'],
        borderWidth: 1,
        hoverOffset: 8,
        spacing: 3
      }]
    },
    options: {
      cutout: '68%',
      plugins: {
        legend: {
          display: true, position: 'bottom',
          labels: {
            color: '#8a8aa0',
            font: { family: "'Inter'", size: 13, weight: '500' },
            padding: 24, usePointStyle: true, pointStyle: 'circle'
          }
        },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return c.label + ': ' + c.parsed + '%'; } }
        })
      }
    }
  });
});


// ============================================================
// 16. FAIR VALUE MODELS - Chart.js
// ============================================================
createChartOnReveal('fairValueChart', function(ctx) {
  var models = ['Power Law\n(Santostasi)', 'Stock-to-Flow\n(PlanB)', 'Rainbow Chart\n(Log Regression)', 'Thermocap\nMultiple', 'Realized Price\n(LTH Cost Basis)'];
  var fairValues = [129000, 375000, 84400, 252000, 40510];
  var currentPrice = 68700;
  var deviations = fairValues.map(function(fv) { return Math.round((currentPrice - fv) / fv * 100); });
  var barColors = fairValues.map(function(fv) {
    return currentPrice < fv ? 'rgba(16,185,129,0.65)' : 'rgba(245,158,11,0.65)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: models,
      datasets: [{
        label: 'Model Fair Value',
        data: fairValues,
        backgroundColor: barColors,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 36,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) { return 'Fair Value: $' + c.parsed.x.toLocaleString(); },
            afterLabel: function(c) {
              var dev = deviations[c.dataIndex];
              return 'Current $68,700 (' + (dev >= 0 ? '+' : '') + dev + '%)';
            }
          }
        }),
        annotation: {
          annotations: {
            currentLine: {
              type: 'line', xMin: 68700, xMax: 68700,
              borderColor: CC.bearish, borderWidth: 2, borderDash: [6, 4],
              label: {
                display: true, content: 'Current $68,700', position: 'start',
                backgroundColor: 'rgba(239,68,68,0.15)', color: CC.bearish,
                font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
                padding: { top: 3, bottom: 3, left: 6, right: 6 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return '$' + v / 1000 + 'K'; }, padding: 8 },
          border: { display: false },
          max: 420000
        },
        y: {
          grid: { display: false },
          ticks: { color: '#a0a0b8', font: { size: 11, weight: '500' } },
          border: { display: false }
        }
      }
    }
  });
}, 200);


// ============================================================
// 17. BOTTOMING INDICATORS - Chart.js
// ============================================================
createChartOnReveal('bottomingChart', function(ctx) {
  var indicators = ['2-Year MA\nMultiplier', 'Mayer\nMultiple', 'Reserve\nRisk', 'Hash\nRibbons', 'Fear &\nGreed', 'MVRV\nZ-Score', '200-Week\nMA', 'Puell\nMultiple', 'NUPL', 'Pi Cycle\nBottom'];
  var readiness = [100, 100, 100, 100, 100, 75, 80, 85, 70, 15];
  var bgColors = readiness.map(function(v) {
    return v >= 100 ? 'rgba(16,185,129,0.55)' : v >= 60 ? 'rgba(245,158,11,0.45)' : 'rgba(239,68,68,0.45)';
  });
  var borderColors = readiness.map(function(v) {
    return v >= 100 ? CC.bullish : v >= 60 ? CC.amber : CC.bearish;
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: indicators,
      datasets: [{
        label: 'Readiness to Bottom Signal',
        data: readiness,
        backgroundColor: bgColors,
        borderColor: borderColors,
        borderWidth: 1.5,
        borderRadius: 8,
        maxBarThickness: 48,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              var status = c.parsed.x >= 100 ? 'TRIGGERED' : c.parsed.x >= 60 ? 'APPROACHING' : 'NOT TRIGGERED';
              return status + ' (' + c.parsed.x + '% to threshold)';
            }
          }
        }),
        annotation: {
          annotations: {
            threshold: {
              type: 'line', xMin: 100, xMax: 100,
              borderColor: 'rgba(16,185,129,0.3)', borderWidth: 1.5, borderDash: [6, 4],
              label: {
                display: true, content: 'Triggered', position: 'end',
                backgroundColor: 'transparent', color: CC.bullish,
                font: { family: "'JetBrains Mono'", size: 9 }
              }
            },
            halfWay: {
              type: 'line', xMin: 50, xMax: 50,
              borderColor: 'rgba(245,158,11,0.2)', borderWidth: 1, borderDash: [4, 4]
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: 'rgba(26,26,40,0.15)', drawTicks: false, borderDash: [3, 3] },
          min: 0, max: 110,
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v + '%'; }, stepSize: 25, padding: 8 },
          border: { display: false }
        },
        y: {
          grid: { display: false },
          ticks: { color: '#8a8aa0', font: { size: 10, weight: '600' } },
          border: { display: false }
        }
      }
    }
  });
}, 200);


// ============================================================
// 18. INSTITUTIONAL PRICE TARGETS - Chart.js
// ============================================================
createChartOnReveal('institutionalTargets', function(ctx) {
  var institutions = ['Citigroup (Bear)', 'Std Chartered', 'Citigroup (Base)', 'Bernstein', 'JPMorgan', 'Citigroup (Bull)', 'Goldman Sachs'];
  var targets = [78500, 100000, 143000, 150000, 170000, 189000, 200000];
  var colors = targets.map(function(v) {
    if (v >= 150000) return 'rgba(16,185,129,0.65)';
    if (v >= 120000) return 'rgba(59,130,246,0.65)';
    return 'rgba(245,158,11,0.65)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: institutions,
      datasets: [{
        label: 'YE 2026 Target',
        data: targets,
        backgroundColor: colors,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 40,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return 'Target: $' + c.parsed.x.toLocaleString(); } }
        }),
        annotation: {
          annotations: {
            current: {
              type: 'line', xMin: 68605, xMax: 68605,
              borderColor: CC.bearish, borderWidth: 2, borderDash: [6, 4],
              label: {
                display: true, content: 'Current $68,605', position: 'start',
                backgroundColor: 'rgba(239,68,68,0.15)', color: CC.bearish,
                font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
                padding: { top: 3, bottom: 3, left: 6, right: 6 }
              }
            },
            consensus: {
              type: 'box', xMin: 143000, xMax: 150000,
              backgroundColor: 'rgba(16,185,129,0.06)', borderColor: 'rgba(16,185,129,0.3)', borderWidth: 1,
              label: {
                display: true, content: 'Consensus Zone', position: 'start',
                color: CC.bullish, font: { family: "'JetBrains Mono'", size: 9 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return '$' + v / 1000 + 'K'; }, padding: 8 },
          border: { display: false },
          min: 0, max: 220000
        },
        y: {
          grid: { display: false },
          ticks: { color: '#a0a0b8', font: { size: 11, weight: '500' } },
          border: { display: false }
        }
      }
    }
  });
}, 200);


// ============================================================
// 19. INSTITUTIONAL STANCE SPECTRUM - Chart.js
// ============================================================
createChartOnReveal('stanceChart', function(ctx) {
  var firms = ['ARK Invest', 'Bernstein', 'Goldman Sachs', 'JPMorgan', 'Grayscale', 'Morgan Stanley', 'Citigroup', 'Fidelity', 'VanEck', 'BlackRock', 'Deutsche Bank', 'Std Chartered'];
  var scores = [95, 90, 80, 75, 75, 70, 60, 55, 50, 45, 30, 25];
  var stanceColors = scores.map(function(s) {
    if (s >= 80) return 'rgba(16,185,129,0.65)';
    if (s >= 60) return 'rgba(59,130,246,0.65)';
    if (s >= 40) return 'rgba(245,158,11,0.65)';
    return 'rgba(239,68,68,0.55)';
  });
  var stanceLabels = scores.map(function(s) {
    if (s >= 80) return 'Bullish';
    if (s >= 60) return 'Constructive';
    if (s >= 40) return 'Neutral/Cautious';
    return 'Bearish';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: firms,
      datasets: [{
        label: 'Bullish Conviction',
        data: scores,
        backgroundColor: stanceColors,
        borderWidth: 0,
        borderRadius: 6,
        maxBarThickness: 28,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) { return stanceLabels[c.dataIndex] + ' (' + c.parsed.x + '/100)'; }
          }
        }),
        annotation: {
          annotations: {
            neutral: { type: 'line', xMin: 50, xMax: 50, borderColor: 'rgba(255,255,255,0.15)', borderWidth: 1, borderDash: [4, 4] }
          }
        }
      },
      scales: {
        x: {
          min: 0, max: 100,
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v + '%'; }, padding: 8 },
          border: { display: false }
        },
        y: {
          grid: { display: false },
          ticks: { color: '#a0a0b8', font: { size: 11, weight: '500' } },
          border: { display: false }
        }
      }
    }
  });
}, 200);


// ============================================================
// 20. RISK RADAR - Chart.js
// ============================================================
createChartOnReveal('riskRadar', function(ctx) {
  var L = ['Nasdaq\nCorrelation', 'Leverage', 'Stablecoin', 'Geopolitical', 'Whale\nConcentration', 'Exchange\nRisk', 'ESG', 'Regulatory', 'Quantum'];

  new Chart(ctx, {
    type: 'radar',
    data: {
      labels: L,
      datasets: [{
        label: 'Severity',
        data: [8, 8, 7, 7, 6, 6, 4, 4, 8],
        borderColor: CC.bearish,
        backgroundColor: 'rgba(239,68,68,0.05)',
        borderWidth: 1.5,
        pointBackgroundColor: CC.bearish,
        pointRadius: 3,
        pointBorderColor: 'transparent'
      }, {
        label: 'Probability',
        data: [7, 7, 4, 6, 5, 3, 5, 3, 1],
        borderColor: CC.amber,
        backgroundColor: 'rgba(245,158,11,0.05)',
        borderWidth: 1.5,
        pointBackgroundColor: CC.amber,
        pointRadius: 3,
        pointBorderColor: 'transparent'
      }]
    },
    options: {
      plugins: {
        legend: {
          display: true, position: 'top', align: 'end',
          labels: {
            color: '#8a8aa0', font: { family: "'Inter'", size: 12, weight: '500' },
            usePointStyle: true, pointStyle: 'circle', padding: 20, boxWidth: 8, boxHeight: 8
          }
        },
        tooltip: TT
      },
      scales: {
        r: {
          grid: { color: 'rgba(26,26,40,0.15)' },
          angleLines: { color: 'rgba(26,26,40,0.15)' },
          ticks: { display: false },
          pointLabels: { font: { family: "'Inter'", size: 11, weight: '500' }, color: '#8a8aa0', padding: 16 },
          min: 0, max: 10
        }
      }
    }
  });
});


// ============================================================
// 21. BEAR VS BULL RADAR - Chart.js
// ============================================================
createChartOnReveal('radarChart', function(ctx) {
  var L = ['Macro\nHeadwinds', 'Leverage\nRisk', 'Institutional\nFlows', 'Technical\nStructure', 'Supply\nDynamics', 'Sentiment\nExtremes', 'Regulatory\nClarity', 'Adoption\nGrowth'];

  new Chart(ctx, {
    type: 'radar',
    data: {
      labels: L,
      datasets: [{
        label: 'Bear Pressure',
        data: [9, 8, 7, 8, 4, 3, 2, 2],
        borderColor: CC.bearish,
        backgroundColor: 'rgba(239,68,68,0.05)',
        borderWidth: 1.5,
        pointBackgroundColor: CC.bearish,
        pointRadius: 3,
        pointBorderColor: 'transparent'
      }, {
        label: 'Bull Strength',
        data: [3, 5, 6, 3, 8, 9, 9, 7],
        borderColor: CC.bullish,
        backgroundColor: 'rgba(16,185,129,0.05)',
        borderWidth: 1.5,
        pointBackgroundColor: CC.bullish,
        pointRadius: 3,
        pointBorderColor: 'transparent'
      }]
    },
    options: {
      plugins: {
        legend: {
          display: true, position: 'top', align: 'end',
          labels: {
            color: '#8a8aa0', font: { family: "'Inter'", size: 12, weight: '500' },
            usePointStyle: true, pointStyle: 'circle', padding: 20, boxWidth: 8, boxHeight: 8
          }
        },
        tooltip: TT
      },
      scales: {
        r: {
          grid: { color: 'rgba(26,26,40,0.15)' },
          angleLines: { color: 'rgba(26,26,40,0.15)' },
          ticks: { display: false },
          pointLabels: { font: { family: "'Inter'", size: 11, weight: '500' }, color: '#8a8aa0', padding: 16 },
          min: 0, max: 10
        }
      }
    }
  });
});


// ============================================================
// 22. ANALYST PREDICTIONS - Chart.js
// ============================================================
createChartOnReveal('predictionsChart', function(ctx) {
  var A = ['McGlone', 'Schiff', 'StanChart', 'Grayscale', 'Bernstein', 'JPMorgan', 'Saylor', 'Goldman', 'Tom Lee', 'Draper'];
  var T = [10000, 40000, 100000, 126500, 150000, 170000, 170000, 200000, 225000, 250000];
  var C = T.map(function(t) {
    if (t < 68605) return 'rgba(239,68,68,0.7)';
    if (t < 130000) return 'rgba(245,158,11,0.65)';
    return 'rgba(16,185,129,0.65)';
  });

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: A,
      datasets: [{
        data: T,
        backgroundColor: C,
        borderWidth: 0,
        borderRadius: 8,
        maxBarThickness: 52,
        borderSkipped: false
      }]
    },
    options: {
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return '$' + c.parsed.y.toLocaleString(); } }
        }),
        annotation: {
          annotations: {
            cur: {
              type: 'line', yMin: 68605, yMax: 68605,
              borderColor: CC.orange, borderWidth: 2, borderDash: [6, 4],
              label: {
                display: true, content: 'Current $68,605', position: 'end',
                backgroundColor: 'rgba(247,147,26,0.15)', color: CC.orange,
                font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
                padding: { top: 3, bottom: 3, left: 6, right: 6 }
              }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#8a8aa0', font: { size: 11, weight: '500' } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return '$' + (v / 1000) + 'K'; }, padding: 8 },
          border: { display: false },
          min: 0, max: 280000
        }
      }
    }
  });
});


// ============================================================
// 23. NEW CHART: NVT RATIO (#nvtChart)
// ============================================================
createChartOnReveal('nvtChart', function(ctx) {
  var labels = ['2019', '2020', '2021', '2022', '2023', '2024', '2025 Peak', '2026 Current'];
  var data = [28, 45, 35, 68, 52, 38, 90, 45];

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [{
        label: 'NVT Ratio',
        data: data,
        borderColor: CC.purple,
        borderWidth: 2.5,
        tension: 0.4,
        fill: true,
        backgroundColor: gr(ctx, 139, 92, 246, 0.15, 0.0),
        pointRadius: function(c) { return c.dataIndex === 6 ? 6 : c.dataIndex === 7 ? 5 : 3; },
        pointBackgroundColor: function(c) {
          return c.dataIndex === 6 ? CC.bearish : c.dataIndex === 7 ? CC.cyan : CC.purple;
        },
        pointBorderColor: 'transparent',
        pointHoverRadius: 7,
        pointHoverBorderColor: '#12121c',
        pointHoverBorderWidth: 2
      }]
    },
    options: {
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return 'NVT: ' + c.parsed.y; } }
        }),
        annotation: {
          annotations: {
            buyZone: {
              type: 'box', yMin: 0, yMax: 30,
              backgroundColor: 'rgba(16,185,129,0.06)', borderColor: 'rgba(16,185,129,0.2)', borderWidth: 1,
              label: {
                display: true, content: 'Buy Zone (<30)', position: 'start',
                color: 'rgba(16,185,129,0.6)', font: { family: "'JetBrains Mono'", size: 9 }
              }
            },
            overheated: {
              type: 'line', yMin: 65, yMax: 65,
              borderColor: 'rgba(239,68,68,0.3)', borderWidth: 1, borderDash: [6, 4],
              label: {
                display: true, content: 'Overheated (>65)', position: 'end',
                backgroundColor: 'transparent', color: 'rgba(239,68,68,0.5)',
                font: { family: "'JetBrains Mono'", size: 9 }
              }
            },
            peakLabel: {
              type: 'label', xValue: '2025 Peak', yValue: 90,
              content: ['Peak NVT: 90', 'Extremely Overheated'],
              backgroundColor: 'rgba(239,68,68,0.12)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, yAdjust: -28
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 11 } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, padding: 8 },
          border: { display: false },
          min: 0, max: 100
        }
      }
    }
  });
});


// ============================================================
// 24. NEW CHART: EXCHANGE RESERVES (#reservesChart)
// ============================================================
createChartOnReveal('reservesChart', function(ctx) {
  var labels = ['Jan 24', 'Apr 24', 'Jul 24', 'Oct 24', 'Jan 25', 'Apr 25', 'Jul 25', 'Oct 25', 'Jan 26', 'Feb 26'];
  var data = [2.4, 2.35, 2.3, 2.2, 2.15, 2.05, 1.95, 1.85, 1.78, 1.72];

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [{
        label: 'Exchange BTC Reserves (M)',
        data: data,
        borderColor: CC.orange,
        borderWidth: 2.5,
        tension: 0.4,
        fill: true,
        backgroundColor: gr(ctx, 247, 147, 26, 0.15, 0.01),
        pointRadius: function(c) { return c.dataIndex === data.length - 1 ? 5 : 0; },
        pointBackgroundColor: CC.orange,
        pointBorderColor: 'transparent',
        pointHoverRadius: 6,
        pointHoverBorderColor: '#12121c',
        pointHoverBorderWidth: 2
      }]
    },
    options: {
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: { label: function(c) { return c.parsed.y.toFixed(2) + 'M BTC on exchanges'; } }
        }),
        annotation: {
          annotations: {
            currentLabel: {
              type: 'label', xValue: 'Feb 26', yValue: 1.72,
              content: ['1.72M BTC', 'Lowest since 2018'],
              backgroundColor: 'rgba(247,147,26,0.12)', color: CC.orange,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, xAdjust: -80, yAdjust: 20
            },
            trendArrow: {
              type: 'line', xMin: 'Jan 24', xMax: 'Feb 26', yMin: 2.38, yMax: 1.74,
              borderColor: 'rgba(239,68,68,0.3)', borderWidth: 1.5, borderDash: [6, 4]
            },
            declineLabel: {
              type: 'label', xValue: 'Jul 25', yValue: 2.2,
              content: ['-28% decline in reserves'],
              backgroundColor: 'rgba(239,68,68,0.1)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 9, weight: '600' },
              padding: { top: 3, bottom: 3, left: 8, right: 8 }, borderRadius: 6
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 11 }, maxRotation: 45 },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v.toFixed(1) + 'M'; }, padding: 8 },
          border: { display: false },
          min: 1.5, max: 2.6
        }
      }
    }
  });
});


// ============================================================
// 25. NEW CHART: BITCOIN RISK METRIC (#riskMetricChart)
// ============================================================
createChartOnReveal('riskMetricChart', function(ctx) {
  var labels = ['2019', '2020', '2021 Peak', '2022 Bottom', '2023', '2024', '2025 Peak', '2026 Current'];
  var data = [0.15, 0.25, 0.92, 0.08, 0.35, 0.55, 0.82, 0.28];

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [{
        label: 'Risk Metric',
        data: data,
        borderColor: '#e8e8f0',
        borderWidth: 2.5,
        tension: 0.4,
        fill: true,
        backgroundColor: function(context) {
          var chart = context.chart;
          var ctx2 = chart.ctx;
          var gd = ctx2.createLinearGradient(0, 0, 0, chart.chartArea ? chart.chartArea.bottom : 400);
          gd.addColorStop(0, 'rgba(239,68,68,0.25)');
          gd.addColorStop(0.5, 'rgba(245,158,11,0.12)');
          gd.addColorStop(1, 'rgba(16,185,129,0.15)');
          return gd;
        },
        pointRadius: function(c) {
          if (c.dataIndex === 2 || c.dataIndex === 3) return 6;
          if (c.dataIndex === 7) return 5;
          return 3;
        },
        pointBackgroundColor: function(c) {
          var v = data[c.dataIndex];
          if (v >= 0.7) return CC.bearish;
          if (v <= 0.2) return CC.bullish;
          return CC.amber;
        },
        pointBorderColor: 'transparent',
        pointHoverRadius: 7,
        pointHoverBorderColor: '#12121c',
        pointHoverBorderWidth: 2
      }]
    },
    options: {
      interaction: { intersect: false, mode: 'index' },
      plugins: {
        legend: { display: false },
        tooltip: Object.assign({}, TT, {
          callbacks: {
            label: function(c) {
              var v = c.parsed.y;
              var zone = v >= 0.7 ? 'SELL ZONE' : v >= 0.4 ? 'HOLD ZONE' : 'BUY ZONE';
              return 'Risk: ' + v.toFixed(2) + ' (' + zone + ')';
            }
          }
        }),
        annotation: {
          annotations: {
            sellZone: {
              type: 'box', yMin: 0.7, yMax: 1,
              backgroundColor: 'rgba(239,68,68,0.06)', borderColor: 'rgba(239,68,68,0.2)', borderWidth: 1,
              label: {
                display: true, content: 'Sell Zone', position: 'start',
                color: 'rgba(239,68,68,0.5)', font: { family: "'JetBrains Mono'", size: 9 }
              }
            },
            buyZone: {
              type: 'box', yMin: 0, yMax: 0.3,
              backgroundColor: 'rgba(16,185,129,0.06)', borderColor: 'rgba(16,185,129,0.2)', borderWidth: 1,
              label: {
                display: true, content: 'Buy Zone', position: 'start',
                color: 'rgba(16,185,129,0.5)', font: { family: "'JetBrains Mono'", size: 9 }
              }
            },
            currentLabel: {
              type: 'label', xValue: '2026 Current', yValue: 0.28,
              content: ['Current: 0.28', 'Buy Zone'],
              backgroundColor: 'rgba(16,185,129,0.12)', color: CC.bullish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 4, bottom: 4, left: 8, right: 8 }, borderRadius: 6, xAdjust: -80, yAdjust: -28
            },
            peakLabel: {
              type: 'label', xValue: '2021 Peak', yValue: 0.92,
              content: ['2021: 0.92'],
              backgroundColor: 'rgba(239,68,68,0.12)', color: CC.bearish,
              font: { family: "'JetBrains Mono'", size: 10, weight: '600' },
              padding: { top: 3, bottom: 3, left: 8, right: 8 }, borderRadius: 6, yAdjust: -20
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: { color: '#52526a', font: { size: 11 } },
          border: { display: false }
        },
        y: {
          grid: { color: CC.grid, drawTicks: false, borderDash: [3, 3] },
          ticks: { color: '#52526a', font: scaleFont, callback: function(v) { return v.toFixed(1); }, padding: 8 },
          border: { display: false },
          min: 0, max: 1
        }
      }
    }
  });
});


// ============================================================
// SCROLL REVEAL ANIMATIONS
// ============================================================
var revealObserver = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      revealObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -60px 0px' });

document.querySelectorAll('.reveal').forEach(function(el) {
  revealObserver.observe(el);
});


// ============================================================
// SCROLL PROGRESS BAR & NAV ACTIVE STATE
// ============================================================
// Cache DOM queries for scroll performance (called on every scroll event)
var _scrollProgress = document.getElementById('scrollProgress');
var _navEl = document.getElementById('nav');
var _sections = document.querySelectorAll('section[id]');
var _navLinksAll = document.querySelectorAll('.nav-links a');

function onScroll() {
  var s = window.scrollY;
  var d = document.documentElement.scrollHeight - window.innerHeight;
  var progress = d > 0 ? (s / d) * 100 : 0;
  _scrollProgress.style.width = progress + '%';

  if (s > 50) _navEl.classList.add('scrolled');
  else _navEl.classList.remove('scrolled');

  var pos = s + 120;
  _sections.forEach(function(sec) {
    var t = sec.offsetTop;
    var h = sec.offsetHeight;
    var id = sec.getAttribute('id');
    if (pos >= t && pos < t + h) {
      _navLinksAll.forEach(function(a) {
        a.classList.remove('active');
        if (a.getAttribute('href') === '#' + id) a.classList.add('active');
      });
    }
  });
}

window.addEventListener('scroll', onScroll, { passive: true });
onScroll();


// ============================================================
// COUNTER ANIMATION
// ============================================================
function animateCounter(el, target, dur, prefix, suffix) {
  if (typeof dur === 'undefined') dur = 2000;
  if (typeof prefix === 'undefined') prefix = '';
  if (typeof suffix === 'undefined') suffix = '';

  var start = performance.now();
  function update(timestamp) {
    var p = Math.min((timestamp - start) / dur, 1);
    var eased = 1 - Math.pow(1 - p, 4); // easeOutQuart
    var current = Math.floor(target * eased);
    el.textContent = prefix + current.toLocaleString() + suffix;
    if (p < 1) requestAnimationFrame(update);
  }
  requestAnimationFrame(update);
}

var counterObserver = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting) {
      var el = entry.target;
      animateCounter(
        el,
        parseInt(el.dataset.counter),
        2000,
        el.dataset.prefix || '',
        el.dataset.suffix || ''
      );
      counterObserver.unobserve(el);
    }
  });
}, { threshold: 0.5 });

document.querySelectorAll('[data-counter]').forEach(function(el) {
  counterObserver.observe(el);
});


// ============================================================
// MOBILE NAV CLOSE ON CLICK
// ============================================================
document.querySelectorAll('.nav-links a').forEach(function(a) {
  a.addEventListener('click', function() {
    document.querySelector('.nav-links').classList.remove('open');
  });
});


// ============================================================
// LIVE DATA API SYSTEM
// ============================================================
(function() {
  'use strict';

  // --- Configuration ---
  var REFRESH_INTERVAL = 60000; // 60 seconds
  var STALE_THRESHOLD = 300000; // 5 minutes = stale
  var lastUpdate = null;
  var refreshTimer = null;

  // --- Fallback static data ---
  var STATIC_DATA = {
    price: 68605,
    change24h: -2.3,
    marketCap: 1360000000000,
    volume24h: 42500000000,
    fearGreed: 12,
    fearGreedText: 'Extreme Fear',
    dominance: 61.2,
    hashRate: 785,
    blockHeight: 0,
    mempoolSize: 0
  };

  // --- DOM references ---
  var els = {
    ticker: document.getElementById('liveTicker'),
    dot: document.getElementById('tickerDot'),
    status: document.getElementById('tickerStatus'),
    price: document.getElementById('tickerPrice'),
    change: document.getElementById('tickerChange'),
    volume: document.getElementById('tickerVolume'),
    marketCap: document.getElementById('tickerMarketCap'),
    fearGreed: document.getElementById('tickerFearGreed'),
    dominance: document.getElementById('tickerDominance'),
    heroBadge: document.querySelector('.hero-badge')
  };

  // --- Utility formatters ---
  function fmtUSD(n) {
    if (n >= 1e12) return '$' + (n / 1e12).toFixed(2) + 'T';
    if (n >= 1e9) return '$' + (n / 1e9).toFixed(1) + 'B';
    if (n >= 1e6) return '$' + (n / 1e6).toFixed(1) + 'M';
    return '$' + n.toLocaleString();
  }

  function fmtPrice(n) {
    return '$' + Math.round(n).toLocaleString();
  }

  function fmtPct(n) {
    var sign = n >= 0 ? '+' : '';
    return sign + n.toFixed(1) + '%';
  }

  function fmtTime(d) {
    return d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }

  // --- Status management ---
  function setStatus(state, text) {
    if (els.dot) {
      els.dot.className = 'ticker-dot ' + state;
    }
    if (els.status) {
      els.status.textContent = text;
    }
    if (els.ticker) {
      els.ticker.classList.toggle('loading', state === 'offline');
    }
  }

  // --- Update the ticker UI ---
  function updateTicker(data) {
    if (els.price) {
      els.price.textContent = fmtPrice(data.price);
      els.price.className = 'ticker-value ' + (data.change24h >= 0 ? 'up' : 'down');
    }

    if (els.change) {
      els.change.textContent = fmtPct(data.change24h);
      els.change.className = 'ticker-change ' + (data.change24h >= 0 ? 'up' : 'down');
    }

    if (els.volume) {
      els.volume.textContent = fmtUSD(data.volume24h);
    }

    if (els.marketCap) {
      els.marketCap.textContent = fmtUSD(data.marketCap);
    }

    if (els.fearGreed) {
      var fg = data.fearGreed;
      var fgClass = fg <= 25 ? 'extreme-fear' : fg <= 45 ? 'fear' : fg <= 55 ? 'neutral' : 'greed';
      els.fearGreed.textContent = fg + ' · ' + data.fearGreedText;
      els.fearGreed.className = 'ticker-value ' + fgClass;
    }

    if (els.dominance) {
      els.dominance.textContent = data.dominance.toFixed(1) + '%';
    }

    // Update hero badge with live timestamp
    if (els.heroBadge) {
      els.heroBadge.innerHTML = '<span class="pulse-dot"></span> Live Data &middot; Updated ' + fmtTime(new Date());
    }

    // Update hero current price stat with live data
    var heroPrice = document.getElementById('heroCurrentPrice');
    var heroLabel = document.getElementById('heroCurrentLabel');
    if (heroPrice && data.price) {
      heroPrice.textContent = '$' + Math.round(data.price).toLocaleString();
      heroPrice.className = 'value ' + (data.change24h >= 0 ? 'neutral' : 'down');
    }
    if (heroLabel) {
      heroLabel.textContent = 'Live Price (' + new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) + ')';
    }

    lastUpdate = Date.now();
    setStatus('live', 'Live · ' + fmtTime(new Date()));
  }

  // --- localStorage cache helpers ---
  function cacheSet(key, data) {
    try { localStorage.setItem('btc_' + key, JSON.stringify({ data: data, ts: Date.now() })); }
    catch(e) { /* quota exceeded or private browsing */ }
  }

  function cacheGet(key, maxAgeMs) {
    try {
      var raw = localStorage.getItem('btc_' + key);
      if (!raw) return null;
      var obj = JSON.parse(raw);
      if (Date.now() - obj.ts > maxAgeMs) return null;
      return obj.data;
    } catch(e) { return null; }
  }

  // --- Fetch BTC price from Blockchain.info (confirmed CORS via ?cors=true) ---
  function fetchPrice() {
    var cached = cacheGet('price', 30000); // 30s cache
    if (cached) return Promise.resolve(cached);

    return fetch('https://blockchain.info/ticker?cors=true')
      .then(function(r) {
        if (!r.ok) throw new Error('Blockchain.info HTTP ' + r.status);
        return r.json();
      })
      .then(function(d) {
        var result = {
          price: d.USD ? d.USD.last : STATIC_DATA.price
        };
        cacheSet('price', result);
        return result;
      })
      .catch(function() {
        // Fallback to CoinGecko
        return fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true&include_market_cap=true&include_24hr_vol=true')
          .then(function(r) { return r.json(); })
          .then(function(d) {
            var btc = d.bitcoin;
            return {
              price: btc.usd || STATIC_DATA.price,
              change24h: btc.usd_24h_change || STATIC_DATA.change24h,
              marketCap: btc.usd_market_cap || STATIC_DATA.marketCap,
              volume24h: btc.usd_24h_vol || STATIC_DATA.volume24h
            };
          });
      });
  }

  // --- Fetch network stats from Blockchain.info (CORS confirmed) ---
  function fetchNetworkStats() {
    var cached = cacheGet('stats', 120000); // 2min cache
    if (cached) return Promise.resolve(cached);

    return fetch('https://api.blockchain.info/stats?cors=true')
      .then(function(r) {
        if (!r.ok) throw new Error('Stats HTTP ' + r.status);
        return r.json();
      })
      .then(function(d) {
        var supply = d.totalbc ? d.totalbc / 1e8 : 19800000;
        var result = {
          marketCap: d.market_price_usd ? d.market_price_usd * supply : STATIC_DATA.marketCap,
          volume24h: d.trade_volume_usd || STATIC_DATA.volume24h,
          hashRate: d.hash_rate ? Math.round(d.hash_rate / 1e9) : STATIC_DATA.hashRate
        };
        cacheSet('stats', result);
        return result;
      });
  }

  // --- Fetch Fear & Greed Index from Alternative.me (CORS confirmed) ---
  function fetchFearGreed() {
    var cached = cacheGet('fng', 1800000); // 30min cache (updates daily)
    if (cached) return Promise.resolve(cached);

    return fetch('https://api.alternative.me/fng/?limit=1')
      .then(function(r) {
        if (!r.ok) throw new Error('F&G HTTP ' + r.status);
        return r.json();
      })
      .then(function(d) {
        var entry = d.data && d.data[0];
        var result = {
          fearGreed: entry ? parseInt(entry.value) : STATIC_DATA.fearGreed,
          fearGreedText: entry ? entry.value_classification : STATIC_DATA.fearGreedText
        };
        cacheSet('fng', result);
        return result;
      });
  }

  // --- Fetch mining data from Mempool.space (CORS confirmed) ---
  function fetchMempool() {
    var cached = cacheGet('mempool', 600000); // 10min cache
    if (cached) return Promise.resolve(cached);

    return fetch('https://mempool.space/api/v1/mining/hashrate/1m')
      .then(function(r) {
        if (!r.ok) throw new Error('Mempool HTTP ' + r.status);
        return r.json();
      })
      .then(function(d) {
        var result = {
          hashRate: d.currentHashrate ? Math.round(d.currentHashrate / 1e18) : STATIC_DATA.hashRate
        };
        cacheSet('mempool', result);
        return result;
      });
  }

  // --- Fetch BTC dominance from CoinGecko (CORS unreliable - best effort) ---
  function fetchDominance() {
    var cached = cacheGet('dominance', 300000); // 5min cache
    if (cached) return Promise.resolve(cached);

    return fetch('https://api.coingecko.com/api/v3/global')
      .then(function(r) {
        if (!r.ok) throw new Error('Global HTTP ' + r.status);
        return r.json();
      })
      .then(function(d) {
        var result = {
          dominance: d.data && d.data.market_cap_percentage && d.data.market_cap_percentage.btc
            ? d.data.market_cap_percentage.btc
            : STATIC_DATA.dominance
        };
        cacheSet('dominance', result);
        return result;
      });
  }

  // --- Master fetch: runs all APIs in parallel, merges results ---
  function fetchAllData() {
    setStatus('live', 'Updating...');

    var results = { ok: 0, fail: 0 };
    var merged = Object.assign({}, STATIC_DATA);

    var promises = [
      fetchPrice().then(function(d) { Object.assign(merged, d); results.ok++; }).catch(function() { results.fail++; }),
      fetchNetworkStats().then(function(d) { Object.assign(merged, d); results.ok++; }).catch(function() { results.fail++; }),
      fetchFearGreed().then(function(d) { Object.assign(merged, d); results.ok++; }).catch(function() { results.fail++; }),
      fetchMempool().then(function(d) { Object.assign(merged, d); results.ok++; }).catch(function() { results.fail++; }),
      fetchDominance().then(function(d) { Object.assign(merged, d); results.ok++; }).catch(function() { results.fail++; })
    ];

    return Promise.all(promises).then(function() {
      updateTicker(merged);

      if (results.fail > 0 && results.ok > 0) {
        setStatus('stale', 'Partial · ' + fmtTime(new Date()));
      } else if (results.fail === promises.length) {
        setStatus('offline', 'Offline · Using cached data');
        updateTicker(STATIC_DATA);
      }

      return merged;
    });
  }

  // --- Stale checker ---
  function checkStale() {
    if (lastUpdate && (Date.now() - lastUpdate) > STALE_THRESHOLD) {
      setStatus('stale', 'Stale · Last update ' + fmtTime(new Date(lastUpdate)));
    }
  }

  // --- Initialize ---
  function init() {
    // Show static data immediately
    updateTicker(STATIC_DATA);
    setStatus('live', 'Loading live data...');

    // Fetch live data
    fetchAllData().catch(function(err) {
      console.warn('[LiveData] Init fetch failed:', err);
      setStatus('offline', 'Offline · Static data');
    });

    // Set up auto-refresh
    refreshTimer = setInterval(function() {
      fetchAllData().catch(function(err) {
        console.warn('[LiveData] Refresh failed:', err);
        checkStale();
      });
    }, REFRESH_INTERVAL);

    // Check for stale data every 30s
    setInterval(checkStale, 30000);

    // Pause refresh when tab is hidden, resume when visible
    document.addEventListener('visibilitychange', function() {
      if (document.hidden) {
        clearInterval(refreshTimer);
      } else {
        fetchAllData().catch(function() {});
        refreshTimer = setInterval(function() {
          fetchAllData().catch(function() { checkStale(); });
        }, REFRESH_INTERVAL);
      }
    });
  }

  // Wait for DOM, then start
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

  // Expose for manual refresh
  window.refreshLiveData = fetchAllData;
})();
</script>
</body>
</html>
